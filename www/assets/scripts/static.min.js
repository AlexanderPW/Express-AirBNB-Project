(function(w,C){function v(){var e=D.elements;return"string"==typeof e?e.split(" "):e}function z(f){var e=u[f[d]];e||(e={},A++,f[d]=A,u[A]=e);return e}function c(f,e,g){e||(e=C);if(B){return e.createElement(f)}g||(g=z(e));e=g.cache[f]?g.cache[f].cloneNode():a.test(f)?(g.cache[f]=g.createElem(f)).cloneNode():g.createElem(f);return e.canHaveChildren&&!F.test(f)?g.frag.appendChild(e):e}function E(f,e){if(!e.cache){e.cache={},e.createElem=f.createElement,e.createFrag=f.createDocumentFragment,e.frag=e.createFrag()}f.createElement=function(g){return !D.shivMethods?e.createElem(g):c(g,f,e)};f.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+v().join().replace(/\w+/g,function(g){e.createElem(g);e.frag.createElement(g);return'c("'+g+'")'})+");return n}")(D,e.frag)}function b(f){f||(f=C);var e=z(f);if(D.shivCSS&&!y&&!e.hasCSS){var h,g=f;h=g.createElement("p");g=g.getElementsByTagName("head")[0]||g.documentElement;h.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}</style>";h=g.insertBefore(h.lastChild,g.firstChild);e.hasCSS=!!h}B||E(f,e);return f}var x=w.html5||{},F=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,y,d="_html5shiv",A=0,u={},B;(function(){try{var f=C.createElement("a");f.innerHTML="<xyz></xyz>";y="hidden" in f;var e;if(!(e=1==f.childNodes.length)){C.createElement("a");var h=C.createDocumentFragment();e="undefined"==typeof h.cloneNode||"undefined"==typeof h.createDocumentFragment||"undefined"==typeof h.createElement}B=e}catch(g){B=y=!0}})();var D={elements:x.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",version:"3.6.2",shivCSS:!1!==x.shivCSS,supportsUnknownElements:B,shivMethods:!1!==x.shivMethods,type:"default",shivDocument:b,createElement:c,createDocumentFragment:function(g,f){g||(g=C);if(B){return g.createDocumentFragment()}for(var f=f||z(g),l=f.frag.cloneNode(),k=0,j=v(),i=j.length;k<i;k++){l.createElement(j[k])}return l}};w.html5=D;b(C)})(this,document);window.Modernizr=(function(A,c,g){var I="2.7.1",w={},y=true,L=c.documentElement,a="modernizr",H=c.createElement(a),E=H.style,K=c.createElement("input"),C=":)",b={}.toString,j=" -webkit- -moz- -o- -ms- ".split(" "),h="Webkit Moz O ms",F=h.split(" "),J=h.toLowerCase().split(" "),G={svg:"http://www.w3.org/2000/svg"},l={},p={},f={},e=[],k=e.slice,s,n=function(U,W,O,V){var N,T,Q,R,M=c.createElement("div"),S=c.body,P=S||c.createElement("body");if(parseInt(O,10)){while(O--){Q=c.createElement("div");Q.id=V?V[O]:a+(O+1);M.appendChild(Q)}}N=["&#173;",'<style id="s',a,'">',U,"</style>"].join("");M.id=a;(S?M:P).innerHTML+=N;P.appendChild(M);if(!S){P.style.background="";P.style.overflow="hidden";R=L.style.overflow;L.style.overflow="hidden";L.appendChild(P)}T=W(M,U);if(!S){P.parentNode.removeChild(P);L.style.overflow=R}else{M.parentNode.removeChild(M)}return !!T},o=(function(){var N={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function M(O,Q){Q=Q||c.createElement(N[O]||"div");O="on"+O;var P=O in Q;if(!P){if(!Q.setAttribute){Q=c.createElement("div")}if(Q.setAttribute&&Q.removeAttribute){Q.setAttribute(O,"");P=r(Q[O],"function");if(!r(Q[O],"undefined")){Q[O]=g}Q.removeAttribute(O)}}Q=null;return P}return M})(),i=({}).hasOwnProperty,x;if(!r(i,"undefined")&&!r(i.call,"undefined")){x=function(M,N){return i.call(M,N)}}else{x=function(M,N){return((N in M)&&r(M.constructor.prototype[N],"undefined"))}}if(!Function.prototype.bind){Function.prototype.bind=function d(O){var P=this;if(typeof P!="function"){throw new TypeError()}var M=k.call(arguments,1),N=function(){if(this instanceof N){var S=function(){};S.prototype=P.prototype;var R=new S();var Q=P.apply(R,M.concat(k.call(arguments)));if(Object(Q)===Q){return Q}return R}else{return P.apply(O,M.concat(k.call(arguments)))}};return N}}function D(M){E.cssText=M}function u(N,M){return D(j.join(N+";")+(M||""))}function r(N,M){return typeof N===M}function t(N,M){return !!~(""+N).indexOf(M)}function z(O,M){for(var N in O){var P=O[N];if(!t(P,"-")&&E[P]!==g){return M=="pfx"?P:true}}return false}function q(N,Q,P){for(var M in N){var O=Q[N[M]];if(O!==g){if(P===false){return N[M]}if(r(O,"function")){return O.bind(P||Q)}return O}}return false}function m(Q,M,P){var N=Q.charAt(0).toUpperCase()+Q.slice(1),O=(Q+" "+F.join(N+" ")+N).split(" ");if(r(M,"string")||r(M,"undefined")){return z(O,M)}else{O=(Q+" "+(J).join(N+" ")+N).split(" ");return q(O,M,P)}}l.flexbox=function(){return m("flexWrap")};l.canvas=function(){var M=c.createElement("canvas");return !!(M.getContext&&M.getContext("2d"))};l.canvastext=function(){return !!(w.canvas&&r(c.createElement("canvas").getContext("2d").fillText,"function"))};l.webgl=function(){return !!A.WebGLRenderingContext};l.touch=function(){var M;if(("ontouchstart" in A)||A.DocumentTouch&&c instanceof DocumentTouch){M=true}else{n(["@media (",j.join("touch-enabled),("),a,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(N){M=N.offsetTop===9})}return M};l.geolocation=function(){return"geolocation" in navigator};l.postmessage=function(){return !!A.postMessage};l.websqldatabase=function(){return !!A.openDatabase};l.indexedDB=function(){return !!m("indexedDB",A)};l.hashchange=function(){return o("hashchange",A)&&(c.documentMode===g||c.documentMode>7)};l.history=function(){return !!(A.history&&history.pushState)};l.draganddrop=function(){var M=c.createElement("div");return("draggable" in M)||("ondragstart" in M&&"ondrop" in M)};l.websockets=function(){return"WebSocket" in A||"MozWebSocket" in A};l.rgba=function(){D("background-color:rgba(150,255,150,.5)");return t(E.backgroundColor,"rgba")};l.hsla=function(){D("background-color:hsla(120,40%,100%,.5)");return t(E.backgroundColor,"rgba")||t(E.backgroundColor,"hsla")};l.multiplebgs=function(){D("background:url(https://),url(https://),red url(https://)");return(/(url\s*\(.*?){3}/).test(E.background)};l.backgroundsize=function(){return m("backgroundSize")};l.borderimage=function(){return m("borderImage")};l.borderradius=function(){return m("borderRadius")};l.boxshadow=function(){return m("boxShadow")};l.textshadow=function(){return c.createElement("div").style.textShadow===""};l.opacity=function(){u("opacity:.55");return(/^0.55$/).test(E.opacity)};l.cssanimations=function(){return m("animationName")};l.csscolumns=function(){return m("columnCount")};l.cssgradients=function(){var O="background-image:",N="gradient(linear,left top,right bottom,from(#9f9),to(white));",M="linear-gradient(left top,#9f9, white);";D((O+"-webkit- ".split(" ").join(N+O)+j.join(M+O)).slice(0,-O.length));return t(E.backgroundImage,"gradient")};l.cssreflections=function(){return m("boxReflect")};l.csstransforms=function(){return !!m("transform")};l.csstransforms3d=function(){var M=!!m("perspective");if(M&&"webkitPerspective" in L.style){n("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(N,O){M=N.offsetLeft===9&&N.offsetHeight===3})}return M};l.csstransitions=function(){return m("transition")};l.fontface=function(){var M;n('@font-face {font-family:"font";src:url("https://")}',function(Q,R){var P=c.getElementById("smodernizr"),N=P.sheet||P.styleSheet,O=N?(N.cssRules&&N.cssRules[0]?N.cssRules[0].cssText:N.cssText||""):"";M=/src/i.test(O)&&O.indexOf(R.split(" ")[0])===0});return M};l.generatedcontent=function(){var M;n(["#",a,"{font:0/0 a}#",a,':after{content:"',C,'";visibility:hidden;font:3px/1 a}'].join(""),function(N){M=N.offsetHeight>=3});return M};l.video=function(){var N=c.createElement("video"),M=false;try{if(M=!!N.canPlayType){M=new Boolean(M);M.ogg=N.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"");M.h264=N.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"");M.webm=N.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(O){}return M};l.audio=function(){var N=c.createElement("audio"),M=false;try{if(M=!!N.canPlayType){M=new Boolean(M);M.ogg=N.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");M.mp3=N.canPlayType("audio/mpeg;").replace(/^no$/,"");M.wav=N.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");M.m4a=(N.canPlayType("audio/x-m4a;")||N.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(O){}return M};l.localstorage=function(){try{localStorage.setItem(a,a);localStorage.removeItem(a);return true}catch(M){return false}};l.sessionstorage=function(){try{sessionStorage.setItem(a,a);sessionStorage.removeItem(a);return true}catch(M){return false}};l.webworkers=function(){return !!A.Worker};l.applicationcache=function(){return !!A.applicationCache};l.svg=function(){return !!c.createElementNS&&!!c.createElementNS(G.svg,"svg").createSVGRect};l.inlinesvg=function(){var M=c.createElement("div");M.innerHTML="<svg/>";return(M.firstChild&&M.firstChild.namespaceURI)==G.svg};l.smil=function(){return !!c.createElementNS&&/SVGAnimate/.test(b.call(c.createElementNS(G.svg,"animate")))};l.svgclippaths=function(){return !!c.createElementNS&&/SVGClipPath/.test(b.call(c.createElementNS(G.svg,"clipPath")))};function B(){w.input=(function(O){for(var N=0,M=O.length;N<M;N++){f[O[N]]=!!(O[N] in K)}if(f.list){f.list=!!(c.createElement("datalist")&&A.HTMLDataListElement)}return f})("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));w.inputtypes=(function(P){for(var O=0,N,R,Q,M=P.length;O<M;O++){K.setAttribute("type",R=P[O]);N=K.type!=="text";if(N){K.value=C;K.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(R)&&K.style.WebkitAppearance!==g){L.appendChild(K);Q=c.defaultView;N=Q.getComputedStyle&&Q.getComputedStyle(K,null).WebkitAppearance!=="textfield"&&(K.offsetHeight!==0);L.removeChild(K)}else{if(/^(search|tel)$/.test(R)){}else{if(/^(url|email)$/.test(R)){N=K.checkValidity&&K.checkValidity()===false}else{N=K.value!=C}}}}p[P[O]]=!!N}return p})("search tel url email datetime date month week time datetime-local number range color".split(" "))}for(var v in l){if(x(l,v)){s=v.toLowerCase();w[s]=l[v]();e.push((w[s]?"":"no-")+s)}}w.input||B();w.addTest=function(N,O){if(typeof N=="object"){for(var M in N){if(x(N,M)){w.addTest(M,N[M])}}}else{N=N.toLowerCase();if(w[N]!==g){return w}O=typeof O=="function"?O():O;if(typeof y!=="undefined"&&y){L.className+=" "+(O?"":"no-")+N}w[N]=O}return w};D("");H=K=null;(function(W,Y){var S="3.7.0";var P=W.html5||{};var T=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var O=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var ac;var U="_html5shiv";var M=0;var aa={};var Q;(function(){try{var af=Y.createElement("a");af.innerHTML="<xyz></xyz>";ac=("hidden" in af);Q=af.childNodes.length==1||(function(){(Y.createElement)("a");var ah=Y.createDocumentFragment();return(typeof ah.cloneNode=="undefined"||typeof ah.createDocumentFragment=="undefined"||typeof ah.createElement=="undefined")}())}catch(ag){ac=true;Q=true}}());function R(af,ah){var ai=af.createElement("p"),ag=af.getElementsByTagName("head")[0]||af.documentElement;ai.innerHTML="x<style>"+ah+"</style>";return ag.insertBefore(ai.lastChild,ag.firstChild)}function X(){var af=V.elements;return typeof af=="string"?af.split(" "):af}function ab(af){var ag=aa[af[U]];if(!ag){ag={};M++;af[U]=M;aa[M]=ag}return ag}function Z(ai,af,ah){if(!af){af=Y}if(Q){return af.createElement(ai)}if(!ah){ah=ab(af)}var ag;if(ah.cache[ai]){ag=ah.cache[ai].cloneNode()}else{if(O.test(ai)){ag=(ah.cache[ai]=ah.createElem(ai)).cloneNode()}else{ag=ah.createElem(ai)}}return ag.canHaveChildren&&!T.test(ai)&&!ag.tagUrn?ah.frag.appendChild(ag):ag}function ad(ah,aj){if(!ah){ah=Y}if(Q){return ah.createDocumentFragment()}aj=aj||ab(ah);var ak=aj.frag.cloneNode(),ai=0,ag=X(),af=ag.length;for(;ai<af;ai++){ak.createElement(ag[ai])}return ak}function ae(af,ag){if(!ag.cache){ag.cache={};ag.createElem=af.createElement;ag.createFrag=af.createDocumentFragment;ag.frag=ag.createFrag()}af.createElement=function(ah){if(!V.shivMethods){return ag.createElem(ah)}return Z(ah,af,ag)};af.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+X().join().replace(/[\w\-]+/g,function(ah){ag.createElem(ah);ag.frag.createElement(ah);return'c("'+ah+'")'})+");return n}")(V,ag.frag)}function N(af){if(!af){af=Y}var ag=ab(af);if(V.shivCSS&&!ac&&!ag.hasCSS){ag.hasCSS=!!R(af,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")}if(!Q){ae(af,ag)}return af}var V={elements:P.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:S,shivCSS:(P.shivCSS!==false),supportsUnknownElements:Q,shivMethods:(P.shivMethods!==false),type:"default",shivDocument:N,createElement:Z,createDocumentFragment:ad};W.html5=V;N(Y)}(this,c));w._version=I;w._prefixes=j;w._domPrefixes=J;w._cssomPrefixes=F;w.hasEvent=o;w.testProp=function(M){return z([M])};w.testAllProps=m;w.testStyles=n;w.prefixed=function(O,N,M){if(!N){return m(O,"pfx")}else{return m(O,N,M)}};L.className=L.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(y?" js "+e.join(" "):"");return w})(this,this.document);(function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)}function Z(b){return"string"==typeof b}function Y(){}function X(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b}function W(){var b=O.shift();M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),W()):M=0}function V(w,v,t,s,q,p,n){function m(a){if(!g&&X(h.readyState)&&(x.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=w&&R(function(){I.removeChild(h)},50);for(var c in D[v]){D[v].hasOwnProperty(c)&&D[v][c].onload()}}}var n=n||L.errorTimeout,h=ac.createElement(w),g=0,b=0,x={t:t,s:v,e:q,a:p,x:n};1===D[v]&&(b=1,D[v]=[]),"object"==w?h.data=v:(h.src=v,h.type=w),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)},O.splice(s,0,x),"img"!=w&&(b||2===D[v]?(I.insertBefore(h,J?null:Q),R(m,n)):D[v].push(h))}function U(g,e,j,i,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,j,i,h):(O.splice(this.i++,0,g),1==O.length&&W()),this}function T(){var b=L;return b.loader={load:U,i:0},b}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d}},N,L;L=function(e){function c(i){var i=i.split("!"),h=E.length,q=i.pop(),p=i.length,q={url:q,origUrl:q,prefixes:i},o,l,j;for(l=0;l<p;l++){j=i[l].split("="),(o=C[j.shift()])&&(q=o(q,j))}for(l=0;l<h;l++){q=E[l](q)}return q}function n(b,s,r,q,p){var o=c(b),l=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(s&&(s=aa(s)?s:s[b]||s[q]||s[b.split("/").pop().split("?")[0]]),o.instead?o.instead(b,s,r,q,p):(D[o.url]?o.noexec=!0:D[o.url]=1,r.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":ab,o.noexec,o.attrs,o.timeout),(aa(s)||aa(l))&&r.load(function(){T(),s&&s(o.origUrl,p,q),l&&l(o.origUrl,p,q),D[o.url]=2})))}function m(w,v){function u(b,h){if(b){if(Z(b)){h||(r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}),n(b,r,v,0,t)}else{if(Object(b)===b){for(g in o=function(){var a=0,i;for(i in b){b.hasOwnProperty(i)&&a++}return a}(),b){b.hasOwnProperty(g)&&(!h&&!--o&&(aa(r)?r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}:r[g]=function(i){return function(){var a=[].slice.call(arguments);i&&i.apply(this,a),p()}}(q[g])),n(b[g],r,v,g,t))}}}}else{!h&&p()}}var t=!!w.test,s=w.load||w.both,r=w.callback||Y,q=r,p=w.complete||Y,o,g;u(t?w.yep:w.nope,!!s),s&&u(s)}var k,f,d=this.yepnope.loader;if(Z(e)){n(e,0,d,0)}else{if(F(e)){for(k=0;k<e.length;k++){f=e[k],Z(f)?n(f,0,d,0):F(f)?L(f):Object(f)===f&&m(f,d)}}else{Object(e)===e&&m(e,d)}}},L.addPrefix=function(d,c){C[d]=c},L.addFilter=function(b){E.push(b)},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(r,q,p,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;g.src=r;for(b in p){g.setAttribute(b,p[b])}q=h?W:q||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,q(),g.onload=g.onreadystatechange=null)},R(function(){f||(f=1,q(1))},n),m?g.onload():Q.parentNode.insertBefore(g,Q)},ad.yepnope.injectCss=function(b,n,m,l,k,h){var l=ac.createElement("link"),f,n=h?W:n||Y;l.href=b,l.rel="stylesheet",l.type="text/css";for(f in m){l.setAttribute(f,m[f])}k||(Q.parentNode.insertBefore(l,Q),R(n,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};if(!jQuery){throw new Error("Bootstrap requires jQuery")}+function(b){function a(){var e=document.createElement("bootstrap");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in d){if(e.style[c]!==undefined){return{end:d[c]}}}}b.fn.emulateTransitionEnd=function(e){var d=false,c=this;b(this).one(b.support.transition.end,function(){d=true});var f=function(){if(!d){b(c).trigger(b.support.transition.end)}};setTimeout(f,e);return this};b(function(){b.support.transition=a()})}(window.jQuery);+function(d){var c='[data-dismiss="alert"]';var b=function(e){d(e).on("click",c,this.close)};b.prototype.close=function(j){var i=d(this);var g=i.attr("data-target");if(!g){g=i.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}var h=d(g);if(j){j.preventDefault()}if(!h.length){h=i.hasClass("alert")?i:i.parent()}h.trigger(j=d.Event("close.bs.alert"));if(j.isDefaultPrevented()){return}h.removeClass("in");function f(){h.trigger("closed.bs.alert").remove()}d.support.transition&&h.hasClass("fade")?h.one(d.support.transition.end,f).emulateTransitionEnd(150):f()};var a=d.fn.alert;d.fn.alert=function(e){return this.each(function(){var g=d(this);var f=g.data("bs.alert");if(!f){g.data("bs.alert",(f=new b(this)))}if(typeof e=="string"){f[e].call(g)}})};d.fn.alert.Constructor=b;d.fn.alert.noConflict=function(){d.fn.alert=a;return this};d(document).on("click.bs.alert.data-api",c,b.prototype.close)}(window.jQuery);+function(c){var b=function(e,d){this.$element=c(e);this.options=c.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(g){var i="disabled";var e=this.$element;var h=e.is("input")?"val":"html";var f=e.data();g=g+"Text";if(!f.resetText){e.data("resetText",e[h]())}e[h](f[g]||this.options[g]);setTimeout(function(){g=="loadingText"?e.addClass(i).attr(i,i):e.removeClass(i).removeAttr(i)},0)};b.prototype.toggle=function(){var d=this.$element.closest('[data-toggle="buttons"]');if(d.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");if(e.prop("type")==="radio"){d.find(".active").removeClass("active")}}this.$element.toggleClass("active")};var a=c.fn.button;c.fn.button=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.button");var e=typeof d=="object"&&d;if(!f){g.data("bs.button",(f=new b(this,e)))}if(d=="toggle"){f.toggle()}else{if(d){f.setState(d)}}})};c.fn.button.Constructor=b;c.fn.button.noConflict=function(){c.fn.button=a;return this};c(document).on("click.bs.button.data-api","[data-toggle^=button]",function(f){var d=c(f.target);if(!d.hasClass("btn")){d=d.closest(".btn")}d.button("toggle");f.preventDefault()})}(window.jQuery);+function(b){var c=function(e,d){this.$element=b(e);this.$indicators=this.$element.find(".carousel-indicators");this.options=d;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};c.DEFAULTS={interval:5000,pause:"hover",wrap:true};c.prototype.cycle=function(d){d||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this};c.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};c.prototype.to=function(f){var e=this;var d=this.getActiveIndex();if(f>(this.$items.length-1)||f<0){return}if(this.sliding){return this.$element.one("slid",function(){e.to(f)})}if(d==f){return this.pause().cycle()}return this.slide(f>d?"next":"prev",b(this.$items[f]))};c.prototype.pause=function(d){d||(this.paused=true);if(this.$element.find(".next, .prev").length&&b.support.transition.end){this.$element.trigger(b.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};c.prototype.next=function(){if(this.sliding){return}return this.slide("next")};c.prototype.prev=function(){if(this.sliding){return}return this.slide("prev")};c.prototype.slide=function(k,f){var m=this.$element.find(".item.active");var d=f||m[k]();var j=this.interval;var l=k=="next"?"left":"right";var g=k=="next"?"first":"last";var h=this;if(!d.length){if(!this.options.wrap){return}d=this.$element.find(".item")[g]()}this.sliding=true;j&&this.pause();var i=b.Event("slide.bs.carousel",{relatedTarget:d[0],direction:l});if(d.hasClass("active")){return}if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var e=b(h.$indicators.children()[h.getActiveIndex()]);e&&e.addClass("active")})}if(b.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(i);if(i.isDefaultPrevented()){return}d.addClass(k);d[0].offsetWidth;m.addClass(l);d.addClass(l);m.one(b.support.transition.end,function(){d.removeClass([k,l].join(" ")).addClass("active");m.removeClass(["active",l].join(" "));h.sliding=false;setTimeout(function(){h.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(i);if(i.isDefaultPrevented()){return}m.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid")}j&&this.cycle();return this};var a=b.fn.carousel;b.fn.carousel=function(d){return this.each(function(){var h=b(this);var g=h.data("bs.carousel");var e=b.extend({},c.DEFAULTS,h.data(),typeof d=="object"&&d);var f=typeof d=="string"?d:e.slide;if(!g){h.data("bs.carousel",(g=new c(this,e)))}if(typeof d=="number"){g.to(d)}else{if(f){g[f]()}else{if(e.interval){g.pause().cycle()}}}})};b.fn.carousel.Constructor=c;b.fn.carousel.noConflict=function(){b.fn.carousel=a;return this};b(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(j){var i=b(this),f;var d=b(i.attr("data-target")||(f=i.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""));var g=b.extend({},d.data(),i.data());var h=i.attr("data-slide-to");if(h){g.interval=false}d.carousel(g);if(h=i.attr("data-slide-to")){d.data("bs.carousel").to(h)}j.preventDefault()});b(window).on("load",function(){b('[data-ride="carousel"]').each(function(){var d=b(this);d.carousel(d.data())})})}(window.jQuery);+function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},c.DEFAULTS,d);this.transitioning=null;if(this.options.parent){this.$parent=b(this.options.parent)}if(this.options.toggle){this.toggle()}};c.DEFAULTS={toggle:true};c.prototype.dimension=function(){var d=this.$element.hasClass("width");return d?"width":"height"};c.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in")){return}var e=b.Event("show.bs.collapse");this.$element.trigger(e);if(e.isDefaultPrevented()){return}var h=this.$parent&&this.$parent.find("> .panel > .in");if(h&&h.length){var f=h.data("bs.collapse");if(f&&f.transitioning){return}h.collapse("hide");f||h.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0);this.transitioning=1;var d=function(){this.$element.removeClass("collapsing").addClass("in")[i]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!b.support.transition){return d.call(this)}var g=b.camelCase(["scroll",i].join("-"));this.$element.one(b.support.transition.end,b.proxy(d,this)).emulateTransitionEnd(350)[i](this.$element[0][g])};c.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in")){return}var e=b.Event("hide.bs.collapse");this.$element.trigger(e);if(e.isDefaultPrevented()){return}var f=this.dimension();this.$element[f](this.$element[f]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var d=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!b.support.transition){return d.call(this)}this.$element[f](0).one(b.support.transition.end,b.proxy(d,this)).emulateTransitionEnd(350)};c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=b.fn.collapse;b.fn.collapse=function(d){return this.each(function(){var g=b(this);var f=g.data("bs.collapse");var e=b.extend({},c.DEFAULTS,g.data(),typeof d=="object"&&d);if(!f){g.data("bs.collapse",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.collapse.Constructor=c;b.fn.collapse.noConflict=function(){b.fn.collapse=a;return this};b(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(j){var l=b(this),d;var k=l.attr("data-target")||j.preventDefault()||(d=l.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"");var f=b(k);var h=f.data("bs.collapse");var i=h?"toggle":l.data();var m=l.attr("data-parent");var g=m&&b(m);if(!h||!h.transitioning){if(g){g.find('[data-toggle=collapse][data-parent="'+m+'"]').not(l).addClass("collapsed")}l[f.hasClass("in")?"addClass":"removeClass"]("collapsed")}f.collapse(i)})}(window.jQuery);+function(g){var e=".dropdown-backdrop";var b="[data-toggle=dropdown]";var a=function(i){var h=g(i).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(k){var j=g(this);if(j.is(".disabled, :disabled")){return}var i=f(j);var h=i.hasClass("open");d();if(!h){if("ontouchstart" in document.documentElement&&!i.closest(".navbar-nav").length){g('<div class="dropdown-backdrop"/>').insertAfter(g(this)).on("click",d)}i.trigger(k=g.Event("show.bs.dropdown"));if(k.isDefaultPrevented()){return}i.toggleClass("open").trigger("shown.bs.dropdown");j.focus()}return false};a.prototype.keydown=function(l){if(!/(38|40|27)/.test(l.keyCode)){return}var k=g(this);l.preventDefault();l.stopPropagation();if(k.is(".disabled, :disabled")){return}var j=f(k);var i=j.hasClass("open");if(!i||(i&&l.keyCode==27)){if(l.which==27){j.find(b).focus()}return k.click()}var m=g("[role=menu] li:not(.divider):visible a",j);if(!m.length){return}var h=m.index(m.filter(":focus"));if(l.keyCode==38&&h>0){h--}if(l.keyCode==40&&h<m.length-1){h++}if(!~h){h=0}m.eq(h).focus()};function d(){g(e).remove();g(b).each(function(i){var h=f(g(this));if(!h.hasClass("open")){return}h.trigger(i=g.Event("hide.bs.dropdown"));if(i.isDefaultPrevented()){return}h.removeClass("open").trigger("hidden.bs.dropdown")})}function f(j){var h=j.attr("data-target");if(!h){h=j.attr("href");h=h&&/#/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,"")}var i=h&&g(h);return i&&i.length?i:j.parent()}var c=g.fn.dropdown;g.fn.dropdown=function(h){return this.each(function(){var j=g(this);var i=j.data("dropdown");if(!i){j.data("dropdown",(i=new a(this)))}if(typeof h=="string"){i[h].call(j)}})};g.fn.dropdown.Constructor=a;g.fn.dropdown.noConflict=function(){g.fn.dropdown=c;return this};g(document).on("click.bs.dropdown.data-api",d).on("click.bs.dropdown.data-api",".dropdown form",function(h){h.stopPropagation()}).on("click.bs.dropdown.data-api",b,a.prototype.toggle).on("keydown.bs.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)}(window.jQuery);+function(c){var b=function(e,d){this.options=d;this.$element=c(e);this.$backdrop=this.isShown=null;if(this.options.remote){this.$element.load(this.options.remote)}};b.DEFAULTS={backdrop:true,keyboard:true,show:true};b.prototype.toggle=function(d){return this[!this.isShown?"show":"hide"](d)};b.prototype.show=function(g){var d=this;var f=c.Event("show.bs.modal",{relatedTarget:g});this.$element.trigger(f);if(this.isShown||f.isDefaultPrevented()){return}this.isShown=true;this.escape();this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',c.proxy(this.hide,this));this.backdrop(function(){var i=c.support.transition&&d.$element.hasClass("fade");if(!d.$element.parent().length){d.$element.appendTo(document.body)}d.$element.show();if(i){d.$element[0].offsetWidth}d.$element.addClass("in").attr("aria-hidden",false);d.enforceFocus();var h=c.Event("shown.bs.modal",{relatedTarget:g});i?d.$element.find(".modal-dialog").one(c.support.transition.end,function(){d.$element.focus().trigger(h)}).emulateTransitionEnd(300):d.$element.focus().trigger(h)})};b.prototype.hide=function(d){if(d){d.preventDefault()}d=c.Event("hide.bs.modal");this.$element.trigger(d);if(!this.isShown||d.isDefaultPrevented()){return}this.isShown=false;this.escape();c(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.modal");c.support.transition&&this.$element.hasClass("fade")?this.$element.one(c.support.transition.end,c.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};b.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(d){if(this.$element[0]!==d.target&&!this.$element.has(d.target).length){this.$element.focus()}},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.bs.modal",c.proxy(function(d){d.which==27&&this.hide()},this))}else{if(!this.isShown){this.$element.off("keyup.dismiss.bs.modal")}}};b.prototype.hideModal=function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(g){var f=this;var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=c.support.transition&&e;this.$backdrop=c('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",c.proxy(function(h){if(h.target!==h.currentTarget){return}this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(d){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!g){return}d?this.$backdrop.one(c.support.transition.end,g).emulateTransitionEnd(150):g()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,g).emulateTransitionEnd(150):g()}else{if(g){g()}}}};var a=c.fn.modal;c.fn.modal=function(d,e){return this.each(function(){var h=c(this);var g=h.data("bs.modal");var f=c.extend({},b.DEFAULTS,h.data(),typeof d=="object"&&d);if(!g){h.data("bs.modal",(g=new b(this,f)))}if(typeof d=="string"){g[d](e)}else{if(f.show){g.show(e)}}})};c.fn.modal.Constructor=b;c.fn.modal.noConflict=function(){c.fn.modal=a;return this};c(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var h=c(this);var f=h.attr("href");var d=c(h.attr("data-target")||(f&&f.replace(/.*(?=#[^\s]+$)/,"")));var g=d.data("modal")?"toggle":c.extend({remote:!/#/.test(f)&&f},d.data(),h.data());i.preventDefault();d.modal(g,this).one("hide",function(){h.is(":visible")&&h.focus()})});c(document).on("show.bs.modal",".modal",function(){c(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){c(document.body).removeClass("modal-open")})}(window.jQuery);+function(c){var b=function(e,d){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",e,d)};b.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};b.prototype.init=function(k,h,f){this.enabled=true;this.type=k;this.$element=c(h);this.options=this.getOptions(f);var j=this.options.trigger.split(" ");for(var g=j.length;g--;){var e=j[g];if(e=="click"){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))}else{if(e!="manual"){var l=e=="hover"?"mouseenter":"focus";var d=e=="hover"?"mouseleave":"blur";this.$element.on(l+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))}}}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()};b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.getOptions=function(d){d=c.extend({},this.getDefaults(),this.$element.data(),d);if(d.delay&&typeof d.delay=="number"){d.delay={show:d.delay,hide:d.delay}}return d};b.prototype.getDelegateOptions=function(){var d={};var e=this.getDefaults();this._options&&c.each(this._options,function(f,g){if(e[f]!=g){d[f]=g}});return d};b.prototype.enter=function(e){var d=e instanceof this.constructor?e:c(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="in";if(!d.options.delay||!d.options.delay.show){return d.show()}d.timeout=setTimeout(function(){if(d.hoverState=="in"){d.show()}},d.options.delay.show)};b.prototype.leave=function(e){var d=e instanceof this.constructor?e:c(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="out";if(!d.options.delay||!d.options.delay.hide){return d.hide()}d.timeout=setTimeout(function(){if(d.hoverState=="out"){d.hide()}},d.options.delay.hide)};b.prototype.show=function(){var n=c.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);if(n.isDefaultPrevented()){return}var j=this.tip();this.setContent();if(this.options.animation){j.addClass("fade")}var i=typeof this.options.placement=="function"?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement;var r=/\s?auto?\s?/i;var s=r.test(i);if(s){i=i.replace(r,"")||"top"}j.detach().css({top:0,left:0,display:"block"}).addClass(i);this.options.container?j.appendTo(this.options.container):j.insertAfter(this.$element);var o=this.getPosition();var d=j[0].offsetWidth;var l=j[0].offsetHeight;if(s){var h=this.$element.parent();var g=i;var p=document.documentElement.scrollTop||document.body.scrollTop;var q=this.options.container=="body"?window.innerWidth:h.outerWidth();var m=this.options.container=="body"?window.innerHeight:h.outerHeight();var k=this.options.container=="body"?0:h.offset().left;i=i=="bottom"&&o.top+o.height+l-p>m?"top":i=="top"&&o.top-p-l<0?"bottom":i=="right"&&o.right+d>q?"left":i=="left"&&o.left-d<k?"right":i;j.removeClass(g).addClass(i)}var f=this.getCalculatedOffset(i,o,d,l);this.applyPlacement(f,i);this.$element.trigger("shown.bs."+this.type)}};b.prototype.applyPlacement=function(i,j){var g;var k=this.tip();var f=k[0].offsetWidth;var n=k[0].offsetHeight;var e=parseInt(k.css("margin-top"),10);var h=parseInt(k.css("margin-left"),10);if(isNaN(e)){e=0}if(isNaN(h)){h=0}i.top=i.top+e;i.left=i.left+h;k.offset(i).addClass("in");var d=k[0].offsetWidth;var l=k[0].offsetHeight;if(j=="top"&&l!=n){g=true;i.top=i.top+n-l}if(/bottom|top/.test(j)){var m=0;if(i.left<0){m=i.left*-2;i.left=0;k.offset(i);d=k[0].offsetWidth;l=k[0].offsetHeight}this.replaceArrow(m-f+d,d,"left")}else{this.replaceArrow(l-n,l,"top")}if(g){k.offset(i)}};b.prototype.replaceArrow=function(f,e,d){this.arrow().css(d,f?(50*(1-f/e)+"%"):"")};b.prototype.setContent=function(){var e=this.tip();var d=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](d);e.removeClass("fade in top bottom left right")};b.prototype.hide=function(){var f=this;var h=this.tip();var g=c.Event("hide.bs."+this.type);function d(){if(f.hoverState!="in"){h.detach()}}this.$element.trigger(g);if(g.isDefaultPrevented()){return}h.removeClass("in");c.support.transition&&this.$tip.hasClass("fade")?h.one(c.support.transition.end,d).emulateTransitionEnd(150):d();this.$element.trigger("hidden.bs."+this.type);return this};b.prototype.fixTitle=function(){var d=this.$element;if(d.attr("title")||typeof(d.attr("data-original-title"))!="string"){d.attr("data-original-title",d.attr("title")||"").attr("title","")}};b.prototype.hasContent=function(){return this.getTitle()};b.prototype.getPosition=function(){var d=this.$element[0];return c.extend({},(typeof d.getBoundingClientRect=="function")?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},this.$element.offset())};b.prototype.getCalculatedOffset=function(d,g,e,f){return d=="bottom"?{top:g.top+g.height,left:g.left+g.width/2-e/2}:d=="top"?{top:g.top-f,left:g.left+g.width/2-e/2}:d=="left"?{top:g.top+g.height/2-f/2,left:g.left-e}:{top:g.top+g.height/2-f/2,left:g.left+g.width}};b.prototype.getTitle=function(){var f;var d=this.$element;var e=this.options;f=d.attr("data-original-title")||(typeof e.title=="function"?e.title.call(d[0]):e.title);return f};b.prototype.tip=function(){return this.$tip=this.$tip||c(this.options.template)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};b.prototype.enable=function(){this.enabled=true};b.prototype.disable=function(){this.enabled=false};b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(f){var d=f?c(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;d.tip().hasClass("in")?d.leave(d):d.enter(d)};b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=c.fn.tooltip;c.fn.tooltip=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.tooltip");var e=typeof d=="object"&&d;if(!f){g.data("bs.tooltip",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.tooltip.Constructor=b;c.fn.tooltip.noConflict=function(){c.fn.tooltip=a;return this}}(window.jQuery);+function(c){var b=function(e,d){this.init("popover",e,d)};if(!c.fn.tooltip){throw new Error("Popover requires tooltip.js")}b.DEFAULTS=c.extend({},c.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype);b.prototype.constructor=b;b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.setContent=function(){var f=this.tip();var e=this.getTitle();var d=this.getContent();f.find(".popover-title")[this.options.html?"html":"text"](e);f.find(".popover-content")[this.options.html?"html":"text"](d);f.removeClass("fade top bottom left right in");if(!f.find(".popover-title").html()){f.find(".popover-title").hide()}};b.prototype.hasContent=function(){return this.getTitle()||this.getContent()};b.prototype.getContent=function(){var d=this.$element;var e=this.options;return d.attr("data-content")||(typeof e.content=="function"?e.content.call(d[0]):e.content)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};b.prototype.tip=function(){if(!this.$tip){this.$tip=c(this.options.template)}return this.$tip};var a=c.fn.popover;c.fn.popover=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.popover");var e=typeof d=="object"&&d;if(!f){g.data("bs.popover",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.popover.Constructor=b;c.fn.popover.noConflict=function(){c.fn.popover=a;return this}}(window.jQuery);+function(c){function b(f,e){var d;var g=c.proxy(this.process,this);this.$element=c(f).is("body")?c(window):c(f);this.$body=c("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",g);this.options=c.extend({},b.DEFAULTS,e);this.selector=(this.options.target||((d=c(f).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.offsets=c([]);this.targets=c([]);this.activeTarget=null;this.refresh();this.process()}b.DEFAULTS={offset:10};b.prototype.refresh=function(){var d=this.$element[0]==window?"offset":"position";this.offsets=c([]);this.targets=c([]);var e=this;var f=this.$body.find(this.selector).map(function(){var h=c(this);var g=h.data("target")||h.attr("href");var i=/^#\w/.test(g)&&c(g);return(i&&i.length&&[[i[d]().top+(!c.isWindow(e.$scrollElement.get(0))&&e.$scrollElement.scrollTop()),g]])||null}).sort(function(h,g){return h[0]-g[0]}).each(function(){e.offsets.push(this[0]);e.targets.push(this[1])})};b.prototype.process=function(){var j=this.$scrollElement.scrollTop()+this.options.offset;var f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight;var h=f-this.$scrollElement.height();var g=this.offsets;var d=this.targets;var k=this.activeTarget;var e;if(j>=h){return k!=(e=d.last()[0])&&this.activate(e)}for(e=g.length;e--;){k!=d[e]&&j>=g[e]&&(!g[e+1]||j<=g[e+1])&&this.activate(d[e])}};b.prototype.activate=function(f){this.activeTarget=f;c(this.selector).parents(".active").removeClass("active");var d=this.selector+'[data-target="'+f+'"],'+this.selector+'[href="'+f+'"]';var e=c(d).parents("li").addClass("active");if(e.parent(".dropdown-menu").length){e=e.closest("li.dropdown").addClass("active")}e.trigger("activate")};var a=c.fn.scrollspy;c.fn.scrollspy=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.scrollspy");var e=typeof d=="object"&&d;if(!f){g.data("bs.scrollspy",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.scrollspy.Constructor=b;c.fn.scrollspy.noConflict=function(){c.fn.scrollspy=a;return this};c(window).on("load",function(){c('[data-spy="scroll"]').each(function(){var d=c(this);d.scrollspy(d.data())})})}(window.jQuery);+function(c){var b=function(d){this.element=c(d)};b.prototype.show=function(){var j=this.element;var g=j.closest("ul:not(.dropdown-menu)");var f=j.attr("data-target");if(!f){f=j.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}if(j.parent("li").hasClass("active")){return}var h=g.find(".active:last a")[0];var i=c.Event("show.bs.tab",{relatedTarget:h});j.trigger(i);if(i.isDefaultPrevented()){return}var d=c(f);this.activate(j.parent("li"),g);this.activate(d,d.parent(),function(){j.trigger({type:"shown.bs.tab",relatedTarget:h})})};b.prototype.activate=function(f,e,i){var d=e.find("> .active");var h=i&&c.support.transition&&d.hasClass("fade");function g(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");if(h){f[0].offsetWidth;f.addClass("in")}else{f.removeClass("fade")}if(f.parent(".dropdown-menu")){f.closest("li.dropdown").addClass("active")}i&&i()}h?d.one(c.support.transition.end,g).emulateTransitionEnd(150):g();d.removeClass("in")};var a=c.fn.tab;c.fn.tab=function(d){return this.each(function(){var f=c(this);var e=f.data("bs.tab");if(!e){f.data("bs.tab",(e=new b(this)))}if(typeof d=="string"){e[d]()}})};c.fn.tab.Constructor=b;c.fn.tab.noConflict=function(){c.fn.tab=a;return this};c(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();c(this).tab("show")})}(window.jQuery);+function(c){var b=function(e,d){this.options=c.extend({},b.DEFAULTS,d);this.$window=c(window).on("scroll.bs.affix.data-api",c.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",c.proxy(this.checkPositionWithEventLoop,this));this.$element=c(e);this.affixed=this.unpin=null;this.checkPosition()};b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0};b.prototype.checkPositionWithEventLoop=function(){setTimeout(c.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var h=c(document).height();var i=this.$window.scrollTop();var d=this.$element.offset();var j=this.options.offset;var g=j.top;var f=j.bottom;if(typeof j!="object"){f=g=j}if(typeof g=="function"){g=j.top()}if(typeof f=="function"){f=j.bottom()}var e=this.unpin!=null&&(i+this.unpin<=d.top)?false:f!=null&&(d.top+this.$element.height()>=h-f)?"bottom":g!=null&&(i<=g)?"top":false;if(this.affixed===e){return}if(this.unpin){this.$element.css("top","")}this.affixed=e;this.unpin=e=="bottom"?d.top-i:null;this.$element.removeClass(b.RESET).addClass("affix"+(e?"-"+e:""));if(e=="bottom"){this.$element.offset({top:document.body.offsetHeight-f-this.$element.height()})}};var a=c.fn.affix;c.fn.affix=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.affix");var e=typeof d=="object"&&d;if(!f){g.data("bs.affix",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.affix.Constructor=b;c.fn.affix.noConflict=function(){c.fn.affix=a;return this};c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var e=c(this);var d=e.data();d.offset=d.offset||{};if(d.offsetBottom){d.offset.bottom=d.offsetBottom}if(d.offsetTop){d.offset.top=d.offsetTop}e.affix(d)})})}(window.jQuery);(function(a){a.extend(a.fn,{validate:function(b){if(!this.length){if(b&&b.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var c=a.data(this[0],"validator");if(c){return c}this.attr("novalidate","novalidate");c=new a.validator(b,this[0]);a.data(this[0],"validator",c);if(c.settings.onsubmit){this.validateDelegate(":submit","click",function(d){if(c.settings.submitHandler){c.submitButton=d.target}if(a(d.target).hasClass("cancel")){c.cancelSubmit=true}if(a(d.target).attr("formnovalidate")!==undefined){c.cancelSubmit=true}});this.submit(function(d){if(c.settings.debug){d.preventDefault()}function e(){var f;if(c.settings.submitHandler){if(c.submitButton){f=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)}c.settings.submitHandler.call(c,c.currentForm,d);if(c.submitButton){f.remove()}return false}return true}if(c.cancelSubmit){c.cancelSubmit=false;return e()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return e()}else{c.focusInvalid();return false}})}return c},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var c=true;var b=a(this[0].form).validate();this.each(function(){c=c&&b.element(this)});return c}},removeAttrs:function(d){var b={},c=this;a.each(d.split(/\s/),function(e,f){b[f]=c.attr(f);c.removeAttr(f)});return b},rules:function(e,b){var g=this[0];if(e){var d=a.data(g.form,"validator").settings;var i=d.rules;var j=a.validator.staticRules(g);switch(e){case"add":a.extend(j,a.validator.normalizeRule(b));delete j.messages;i[g.name]=j;if(b.messages){d.messages[g.name]=a.extend(d.messages[g.name],b.messages)}break;case"remove":if(!b){delete i[g.name];return j}var h={};a.each(b.split(/\s/),function(k,l){h[l]=j[l];delete j[l]});return h}}var f=a.validator.normalizeRules(a.extend({},a.validator.classRules(g),a.validator.attributeRules(g),a.validator.dataRules(g),a.validator.staticRules(g)),g);if(f.required){var c=f.required;delete f.required;f=a.extend({required:c},f)}return f}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+a(b).val())},filled:function(b){return !!a.trim(""+a(b).val())},unchecked:function(b){return !a(b).prop("checked")}});a.validator=function(b,c){this.settings=a.extend(true,{},a.validator.defaults,b);this.currentForm=c;this.init()};a.validator.format=function(b,c){if(arguments.length===1){return function(){var d=a.makeArray(arguments);d.unshift(b);return a.validator.format.apply(this,d)}}if(arguments.length>2&&c.constructor!==Array){c=a.makeArray(arguments).slice(1)}if(c.constructor!==Array){c=[c]}a.each(c,function(d,e){b=b.replace(new RegExp("\\{"+d+"\\}","g"),function(){return e})});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(b,c){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass)}this.addWrapper(this.errorsFor(b)).hide()}},onfocusout:function(b,c){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b,c){if(c.which===9&&this.elementValue(b)===""){return}else{if(b.name in this.submitted||b===this.lastElement){this.element(b)}}},onclick:function(b,c){if(b.name in this.submitted){this.element(b)}else{if(b.parentNode.name in this.submitted){this.element(b.parentNode)}}},highlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).addClass(b).removeClass(c)}else{a(d).addClass(b).removeClass(c)}},unhighlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).removeClass(b).addClass(c)}else{a(d).removeClass(b).addClass(c)}}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=(this.groups={});a.each(this.settings.groups,function(e,f){if(typeof f==="string"){f=f.split(/\s/)}a.each(f,function(h,g){b[g]=e})});var d=this.settings.rules;a.each(d,function(e,f){d[e]=a.validator.normalizeRule(f)});function c(g){var f=a.data(this[0].form,"validator"),e="on"+g.type.replace(/^validate/,"");if(f.settings[e]){f.settings[e].call(f,this[0],g)}}a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",c).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",c);if(this.settings.invalidHandler){a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=(this.currentElements=this.elements());c[b];b++){this.check(c[b])}return this.valid()},element:function(c){c=this.validationTargetFor(this.clean(c));this.lastElement=c;this.prepareElement(c);this.currentElements=a(c);var b=this.check(c)!==false;if(b){delete this.invalid[c.name]}else{this.invalid[c.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(c){if(c){a.extend(this.errorMap,c);this.errorList=[];for(var b in c){this.errorList.push({message:c[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(d){return !(d.name in c)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(d){var c=0;for(var b in d){c++}return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(c){return c.element.name===b.name}).length===1&&b},elements:function(){var c=this,b={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&c.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in b||!c.objectLength(a(this).rules())){return false}b[this.name]=true;return true})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();if(c==="radio"||c==="checkbox"){return a("input[name='"+a(b).attr("name")+"']:checked").val()}if(typeof d==="string"){return d.replace(/\r/g,"")}return d},check:function(c){c=this.validationTargetFor(this.clean(c));var i=a(c).rules();var d=false;var h=this.elementValue(c);var b;for(var j in i){var g={method:j,parameters:i[j]};try{b=a.validator.methods[j].call(this,h,c,g.parameters);if(b==="dependency-mismatch"){d=true;continue}d=false;if(b==="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!b){this.formatAndAdd(c,g);return false}}catch(f){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+c.id+", check the '"+g.method+"' method.",f)}throw f}}if(d){return}if(this.objectLength(i)){this.successList.push(c)}return true},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||(b.attributes&&a(b).attr("data-msg-"+c.toLowerCase()))},customMessage:function(c,d){var b=this.settings.messages[c];return b&&(b.constructor===String?b:b[d])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}return undefined},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(c,e){var d=this.defaultMessage(c,e.method),b=/\$?\{(\d+)\}/g;if(typeof d==="function"){d=d.call(this,e.parameters,c)}else{if(b.test(d)){d=a.validator.format(d.replace(b,"{$1}"),e.parameters)}}this.errorList.push({message:d,element:c});this.errorMap[c.name]=d;this.submitted[c.name]=d},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){var c,d;for(c=0;this.errorList[c];c++){var b=this.errorList[c];if(this.settings.highlight){this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(b.element,b.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(c=0;this.successList[c];c++){this.showLabel(this.successList[c])}}if(this.settings.unhighlight){for(c=0,d=this.validElements();d[c];c++){this.settings.unhighlight.call(this,d[c],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(c,d){var b=this.errorsFor(c);if(b.length){b.removeClass(this.settings.validClass).addClass(this.settings.errorClass);b.html(d)}else{b=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(c)).addClass(this.settings.errorClass).html(d||"");if(this.settings.wrapper){b=b.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(b).length){if(this.settings.errorPlacement){this.settings.errorPlacement(b,a(c))}else{b.insertAfter(c)}}}if(!d&&this.settings.success){b.text("");if(typeof this.settings.success==="string"){b.addClass(this.settings.success)}else{this.settings.success(b,c)}}this.toShow=this.toShow.add(b)},errorsFor:function(c){var b=this.idOrName(c);return this.errors().filter(function(){return a(this).attr("for")===b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){if(this.checkable(b)){b=this.findByName(b.name).not(this.settings.ignore)[0]}return b},checkable:function(b){return(/radio|checkbox/i).test(b.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b)){return this.findByName(b.name).filter(":checked").length}}return c.length},depend:function(c,b){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,b):true},dependTypes:{"boolean":function(c,b){return c},string:function(c,b){return !!a(c,b.form).length},"function":function(c,b){return c(b)}},optional:function(b){var c=this.elementValue(b);return !a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(b,c){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[b.name];if(c&&this.pendingRequest===0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!c&&this.pendingRequest===0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(b,c){if(b.constructor===String){this.classRuleSettings[b]=c}else{a.extend(this.classRuleSettings,b)}},classRules:function(c){var d={};var b=a(c).attr("class");if(b){a.each(b.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(d,a.validator.classRuleSettings[this])}})}return d},attributeRules:function(c){var f={};var b=a(c);var d=b[0].getAttribute("type");for(var g in a.validator.methods){var e;if(g==="required"){e=b.get(0).getAttribute(g);if(e===""){e=true}e=!!e}else{e=b.attr(g)}if(/min|max/.test(g)&&(d===null||/number|range|text/.test(d))){e=Number(e)}if(e){f[g]=e}else{if(d===g&&d!=="range"){f[g]=true}}}if(f.maxlength&&/-1|2147483647|524288/.test(f.maxlength)){delete f.maxlength}return f},dataRules:function(c){var f,d,e={},b=a(c);for(f in a.validator.methods){d=b.data("rule-"+f.toLowerCase());if(d!==undefined){e[f]=d}}return e},staticRules:function(c){var d={};var b=a.data(c.form,"validator");if(b.settings.rules){d=a.validator.normalizeRule(b.settings.rules[c.name])||{}}return d},normalizeRules:function(c,b){a.each(c,function(f,e){if(e===false){delete c[f];return}if(e.param||e.depends){var d=true;switch(typeof e.depends){case"string":d=!!a(e.depends,b.form).length;break;case"function":d=e.depends.call(b,b);break}if(d){c[f]=e.param!==undefined?e.param:true}else{delete c[f]}}});a.each(c,function(d,e){c[d]=a.isFunction(e)?e(b):e});a.each(["minlength","maxlength"],function(){if(c[this]){c[this]=Number(c[this])}});a.each(["rangelength","range"],function(){var d;if(c[this]){if(a.isArray(c[this])){c[this]=[Number(c[this][0]),Number(c[this][1])]}else{if(typeof c[this]==="string"){d=c[this].split(/[\s,]+/);c[this]=[Number(d[0]),Number(d[1])]}}}});if(a.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}return c},normalizeRule:function(c){if(typeof c==="string"){var b={};a.each(c.split(/\s/),function(){b[this]=true});c=b}return c},addMethod:function(b,d,c){a.validator.methods[b]=d;a.validator.messages[b]=c!==undefined?c:a.validator.messages[b];if(d.length<3){a.validator.addClassRules(b,a.validator.normalizeRule(b))}},methods:{required:function(c,b,e){if(!this.depend(e,b)){return"dependency-mismatch"}if(b.nodeName.toLowerCase()==="select"){var d=a(b).val();return d&&d.length>0}if(this.checkable(b)){return this.getLength(c,b)>0}return a.trim(c).length>0},email:function(c,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(c)},url:function(c,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},date:function(c,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(c).toString())},dateISO:function(c,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(c)},number:function(c,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(c)},digits:function(c,b){return this.optional(b)||/^\d+$/.test(c)},creditcard:function(f,c){if(this.optional(c)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(f)){return false}var g=0,e=0,b=false;f=f.replace(/\D/g,"");for(var h=f.length-1;h>=0;h--){var d=f.charAt(h);e=parseInt(d,10);if(b){if((e*=2)>9){e-=9}}g+=e;b=!b}return(g%10)===0},minlength:function(d,b,e){var c=a.isArray(d)?d.length:this.getLength(a.trim(d),b);return this.optional(b)||c>=e},maxlength:function(d,b,e){var c=a.isArray(d)?d.length:this.getLength(a.trim(d),b);return this.optional(b)||c<=e},rangelength:function(d,b,e){var c=a.isArray(d)?d.length:this.getLength(a.trim(d),b);return this.optional(b)||(c>=e[0]&&c<=e[1])},min:function(c,b,d){return this.optional(b)||c>=d},max:function(c,b,d){return this.optional(b)||c<=d},range:function(c,b,d){return this.optional(b)||(c>=d[0]&&c<=d[1])},equalTo:function(c,b,e){var d=a(e);if(this.settings.onfocusout){d.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()})}return c===d.val()},remote:function(f,c,g){if(this.optional(c)){return"dependency-mismatch"}var d=this.previousValue(c);if(!this.settings.messages[c.name]){this.settings.messages[c.name]={}}d.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=d.message;g=typeof g==="string"&&{url:g}||g;if(d.old===f){return d.valid}d.old=f;var b=this;this.startRequest(c);var e={};e[c.name]=f;a.ajax(a.extend(true,{url:g,mode:"abort",port:"validate"+c.name,dataType:"json",data:e,success:function(i){b.settings.messages[c.name].remote=d.originalMessage;var k=i===true||i==="true";if(k){var h=b.formSubmitted;b.prepareElement(c);b.formSubmitted=h;b.successList.push(c);delete b.invalid[c.name];b.showErrors()}else{var l={};var j=i||b.defaultMessage(c,"remote");l[c.name]=d.message=a.isFunction(j)?j(f):j;b.invalid[c.name]=true;b.showErrors(l)}d.valid=k;b.stopRequest(c,k)}},g));return"pending"}}});a.format=a.validator.format}(jQuery));(function(c){var a={};if(c.ajaxPrefilter){c.ajaxPrefilter(function(f,e,g){var d=f.port;if(f.mode==="abort"){if(a[d]){a[d].abort()}a[d]=g}})}else{var b=c.ajax;c.ajax=function(e){var f=("mode" in e?e:c.ajaxSettings).mode,d=("port" in e?e:c.ajaxSettings).port;if(f==="abort"){if(a[d]){a[d].abort()}a[d]=b.apply(this,arguments);return a[d]}return b.apply(this,arguments)}}}(jQuery));(function(a){a.extend(a.fn,{validateDelegate:function(d,c,b){return this.bind(c,function(e){var f=a(e.target);if(f.is(d)){return b.apply(f,arguments)}})}})}(jQuery));(function(){function a(b){return b.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",function(c,b,d){return this.optional(b)||a(c).match(/\b\w+\b/g).length<=d},jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",function(c,b,d){return this.optional(b)||a(c).match(/\b\w+\b/g).length>=d},jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",function(e,b,f){var d=a(e);var c=/\b\w+\b/g;return this.optional(b)||d.match(c).length>=f[0]&&d.match(c).length<=f[1]},jQuery.validator.format("Please enter between {0} and {1} words."))}());jQuery.validator.addMethod("letterswithbasicpunc",function(b,a){return this.optional(a)||/^[a-z\-.,()'"\s]+$/i.test(b)},"Letters or punctuation only please");jQuery.validator.addMethod("alphanumeric",function(b,a){return this.optional(a)||/^\w+$/i.test(b)},"Letters, numbers, and underscores only please");jQuery.validator.addMethod("lettersonly",function(b,a){return this.optional(a)||/^[a-z]+$/i.test(b)},"Letters only please");jQuery.validator.addMethod("nowhitespace",function(b,a){return this.optional(a)||/^\S+$/i.test(b)},"No white space please");jQuery.validator.addMethod("ziprange",function(b,a){return this.optional(a)||/^90[2-5]\d\{2\}-\d{4}$/.test(b)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx");jQuery.validator.addMethod("zipcodeUS",function(b,a){return this.optional(a)||/\d{5}-\d{4}$|^\d{5}$/.test(b)},"The specified US ZIP Code is invalid");jQuery.validator.addMethod("integer",function(b,a){return this.optional(a)||/^-?\d+$/.test(b)},"A positive or negative non-decimal number please");jQuery.validator.addMethod("vinUS",function(o){if(o.length!==17){return false}var h,a,l,j,b,k;var c=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"];var m=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9];var g=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2];var e=0;for(h=0;h<17;h++){j=g[h];l=o.slice(h,h+1);if(h===8){k=l}if(!isNaN(l)){l*=j}else{for(a=0;a<c.length;a++){if(l.toUpperCase()===c[a]){l=m[a];l*=j;if(isNaN(k)&&a===8){k=c[a]}break}}}e+=l}b=e%11;if(b===10){b="X"}if(b===k){return true}return false},"The specified vehicle identification number (VIN) is invalid.");jQuery.validator.addMethod("dateITA",function(e,c){var a=false;var g=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(g.test(e)){var i=e.split("/");var d=parseInt(i[0],10);var b=parseInt(i[1],10);var f=parseInt(i[2],10);var h=new Date(f,b-1,d);if((h.getFullYear()===f)&&(h.getMonth()===b-1)&&(h.getDate()===d)){a=true}else{a=false}}else{a=false}return this.optional(c)||a},"Please enter a correct date");jQuery.validator.addMethod("iban",function(q,j){if(this.optional(j)){return true}if(!(/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(q))){return false}var g=q.replace(/ /g,"").toUpperCase();var c=g.substring(0,2);var a={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"};var m=a[c];if(typeof m!=="undefined"){var k=new RegExp("^[A-Z]{2}\\d{2}"+m+"$","");if(!(k.test(g))){return false}}var e=g.substring(4,g.length)+g.substring(0,4);var f="";var l=true;var d;for(var h=0;h<e.length;h++){d=e.charAt(h);if(d!=="0"){l=false}if(!l){f+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(d)}}var r="";var o="";for(var b=0;b<f.length;b++){var n=f.charAt(b);o=""+r+""+n;r=o%97}return r===1},"Please specify a valid IBAN");jQuery.validator.addMethod("dateNL",function(b,a){return this.optional(a)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(b)},"Please enter a correct date");jQuery.validator.addMethod("phoneNL",function(b,a){return this.optional(a)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(b)},"Please specify a valid phone number.");jQuery.validator.addMethod("mobileNL",function(b,a){return this.optional(a)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(b)},"Please specify a valid mobile number");jQuery.validator.addMethod("postalcodeNL",function(b,a){return this.optional(a)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(b)},"Please specify a valid postal code");jQuery.validator.addMethod("bankaccountNL",function(f,c){if(this.optional(c)){return true}if(!(/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(f))){return false}var e=f.replace(/ /g,"");var d=0;var a=e.length;for(var h=0;h<a;h++){var b=a-h;var g=e.substring(h,h+1);d=d+b*g}return d%11===0},"Please specify a valid bank account number");jQuery.validator.addMethod("giroaccountNL",function(b,a){return this.optional(a)||/^[0-9]{1,7}$/.test(b)},"Please specify a valid giro account number");jQuery.validator.addMethod("bankorgiroaccountNL",function(b,a){return this.optional(a)||($.validator.methods.bankaccountNL.call(this,b,a))||($.validator.methods.giroaccountNL.call(this,b,a))},"Please specify a valid bank or giro account number");jQuery.validator.addMethod("time",function(b,a){return this.optional(a)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(b)},"Please enter a valid time, between 00:00 and 23:59");jQuery.validator.addMethod("time12h",function(b,a){return this.optional(a)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(b)},"Please enter a valid time in 12-hour am/pm format");jQuery.validator.addMethod("phoneUS",function(a,b){a=a.replace(/\s+/g,"");return this.optional(b)||a.length>9&&a.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("phoneUK",function(a,b){a=a.replace(/\(|\)|\s+|-/g,"");return this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number");jQuery.validator.addMethod("mobileUK",function(a,b){a=a.replace(/\(|\)|\s+|-/g,"");return this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[45789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number");jQuery.validator.addMethod("phonesUK",function(a,b){a=a.replace(/\(|\)|\s+|-/g,"");return this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[45789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number");jQuery.validator.addMethod("postcodeUK",function(b,a){return this.optional(a)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(b)},"Please specify a valid UK postcode");jQuery.validator.addMethod("strippedminlength",function(b,a,c){return jQuery(b).text().length>=c},jQuery.validator.format("Please enter at least {0} characters"));jQuery.validator.addMethod("email2",function(b,a,c){return this.optional(a)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(b)},jQuery.validator.messages.email);jQuery.validator.addMethod("url2",function(b,a,c){return this.optional(a)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},jQuery.validator.messages.url);jQuery.validator.addMethod("creditcardtypes",function(b,a,c){if(/[^0-9\-]+/.test(b)){return false}b=b.replace(/\D/g,"");var d=0;if(c.mastercard){d|=1}if(c.visa){d|=2}if(c.amex){d|=4}if(c.dinersclub){d|=8}if(c.enroute){d|=16}if(c.discover){d|=32}if(c.jcb){d|=64}if(c.unknown){d|=128}if(c.all){d=1|2|4|8|16|32|64|128}if(d&1&&/^(5[12345])/.test(b)){return b.length===16}if(d&2&&/^(4)/.test(b)){return b.length===16}if(d&4&&/^(3[47])/.test(b)){return b.length===15}if(d&8&&/^(3(0[012345]|[68]))/.test(b)){return b.length===14}if(d&16&&/^(2(014|149))/.test(b)){return b.length===15}if(d&32&&/^(6011)/.test(b)){return b.length===16}if(d&64&&/^(3)/.test(b)){return b.length===16}if(d&64&&/^(2131|1800)/.test(b)){return b.length===15}if(d&128){return true}return false},"Please enter a valid credit card number.");jQuery.validator.addMethod("ipv4",function(b,a,c){return this.optional(a)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(b)},"Please enter a valid IP v4 address.");jQuery.validator.addMethod("ipv6",function(b,a,c){return this.optional(a)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(b)},"Please enter a valid IP v6 address.");jQuery.validator.addMethod("pattern",function(b,a,c){if(this.optional(a)){return true}if(typeof c==="string"){c=new RegExp("^(?:"+c+")$")}return c.test(b)},"Invalid format.");jQuery.validator.addMethod("require_from_group",function(g,f,d){var e=this;var b=d[1];var c=$(b,f.form).filter(function(){return e.elementValue(this)}).length>=d[0];if(!$(f).data("being_validated")){var a=$(b,f.form);a.data("being_validated",true);a.valid();a.data("being_validated",false)}return c},jQuery.format("Please fill at least {0} of these fields."));jQuery.validator.addMethod("skip_or_fill_minimum",function(h,e,i){var b=this,c=i[0],d=i[1];var g=$(d,e.form).filter(function(){return b.elementValue(this)}).length;var a=g>=c||g===0;if(!$(e).data("being_validated")){var f=$(d,e.form);f.data("being_validated",true);f.valid();f.data("being_validated",false)}return a},jQuery.format("Please either skip these fields or fill at least {0} of them."));jQuery.validator.addMethod("accept",function(e,c,g){var f=typeof g==="string"?g.replace(/\s/g,"").replace(/,/g,"|"):"image/*",d=this.optional(c),b,a;if(d){return d}if($(c).attr("type")==="file"){f=f.replace(/\*/g,".*");if(c.files&&c.files.length){for(b=0;b<c.files.length;b++){a=c.files[b];if(!a.type.match(new RegExp(".?("+f+")$","i"))){return false}}}}return true},jQuery.format("Please enter a value with a valid mimetype."));jQuery.validator.addMethod("extension",function(b,a,c){c=typeof c==="string"?c.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(a)||b.match(new RegExp(".("+c+")$","i"))},jQuery.format("Please enter a value with a valid extension."));(function(c){function b(d){return(d||"").toLowerCase()}var a="2.1.1";c.fn.cycle=function(d){var e;return 0!==this.length||c.isReady?this.each(function(){var m,h,j,k,g=c(this),i=c.fn.cycle.log;if(!g.data("cycle.opts")){(g.data("cycle-log")===!1||d&&d.log===!1||h&&h.log===!1)&&(i=c.noop),i("--c2 init--"),m=g.data();for(var f in m){m.hasOwnProperty(f)&&/^cycle[A-Z]+/.test(f)&&(k=m[f],j=f.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b),i(j+":",k,"("+typeof k+")"),m[j]=k)}h=c.extend({},c.fn.cycle.defaults,m,d||{}),h.timeoutId=0,h.paused=h.paused||!1,h.container=g,h._maxZ=h.maxZ,h.API=c.extend({_container:g},c.fn.cycle.API),h.API.log=i,h.API.trigger=function(n,l){return h.container.trigger(n,l),h.API},g.data("cycle.opts",h),g.data("cycle.API",h.API),h.API.trigger("cycle-bootstrap",[h,h.API]),h.API.addInitialSlides(),h.API.preInitSlideshow(),h.slides.length&&h.API.initSlideshow()}}):(e={s:this.selector,c:this.context},c.fn.cycle.log("requeuing slideshow (dom not ready)"),c(function(){c(e.s,e.c).cycle(d)}),this)},c.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var e=this.opts(),d=e.slides;e.slideCount=0,e.slides=c(),d=d.jquery?d:e.container.find(d),e.random&&d.sort(function(){return Math.random()-0.5}),e.API.add(d)},preInitSlideshow:function(){var e=this.opts();e.API.trigger("cycle-pre-initialize",[e]);var d=c.fn.cycle.transitions[e.fx];d&&c.isFunction(d.preInit)&&d.preInit(e),e._preInitialized=!0},postInitSlideshow:function(){var e=this.opts();e.API.trigger("cycle-post-initialize",[e]);var d=c.fn.cycle.transitions[e.fx];d&&c.isFunction(d.postInit)&&d.postInit(e)},initSlideshow:function(){var e,d=this.opts(),f=d.container;d.API.calcFirstSlide(),"static"==d.container.css("position")&&d.container.css("position","relative"),c(d.slides[d.currSlide]).css({opacity:1,display:"block",visibility:"visible"}),d.API.stackSlides(d.slides[d.currSlide],d.slides[d.nextSlide],!d.reverse),d.pauseOnHover&&(d.pauseOnHover!==!0&&(f=c(d.pauseOnHover)),f.hover(function(){d.API.pause(!0)},function(){d.API.resume(!0)})),d.timeout&&(e=d.API.getSlideOpts(d.currSlide),d.API.queueTransition(e,e.timeout+d.delay)),d._initialized=!0,d.API.updateView(!0),d.API.trigger("cycle-initialized",[d]),d.API.postInitSlideshow()},pause:function(e){var d=this.opts(),g=d.API.getSlideOpts(),f=d.hoverPaused||d.paused;e?d.hoverPaused=!0:d.paused=!0,f||(d.container.addClass("cycle-paused"),d.API.trigger("cycle-paused",[d]).log("cycle-paused"),g.timeout&&(clearTimeout(d.timeoutId),d.timeoutId=0,d._remainingTimeout-=c.now()-d._lastQueue,(0>d._remainingTimeout||isNaN(d._remainingTimeout))&&(d._remainingTimeout=void 0)))},resume:function(g){var f=this.opts(),d=!f.hoverPaused&&!f.paused;g?f.hoverPaused=!1:f.paused=!1,d||(f.container.removeClass("cycle-paused"),0===f.slides.filter(":animated").length&&f.API.queueTransition(f.API.getSlideOpts(),f._remainingTimeout),f.API.trigger("cycle-resumed",[f,f._remainingTimeout]).log("cycle-resumed"))},add:function(e,d){var j,f=this.opts(),g=f.slideCount,h=!1;"string"==c.type(e)&&(e=c.trim(e)),c(e).each(function(){var i,k=c(this);d?f.container.prepend(k):f.container.append(k),f.slideCount++,i=f.API.buildSlideOpts(k),f.slides=d?c(k).add(f.slides):f.slides.add(k),f.API.initSlide(i,k,--f._maxZ),k.data("cycle.opts",i),f.API.trigger("cycle-slide-added",[f,i,k])}),f.API.updateView(!0),h=f._preInitialized&&2>g&&f.slideCount>=1,h&&(f._initialized?f.timeout&&(j=f.slides.length,f.nextSlide=f.reverse?j-1:1,f.timeoutId||f.API.queueTransition(f)):f.API.initSlideshow())},calcFirstSlide:function(){var f,d=this.opts();f=parseInt(d.startingSlide||0,10),(f>=d.slides.length||0>f)&&(f=0),d.currSlide=f,d.reverse?(d.nextSlide=f-1,0>d.nextSlide&&(d.nextSlide=d.slides.length-1)):(d.nextSlide=f+1,d.nextSlide==d.slides.length&&(d.nextSlide=0))},calcNextSlide:function(){var f,d=this.opts();d.reverse?(f=0>d.nextSlide-1,d.nextSlide=f?d.slideCount-1:d.nextSlide-1,d.currSlide=f?0:d.nextSlide+1):(f=d.nextSlide+1==d.slides.length,d.nextSlide=f?0:d.nextSlide+1,d.currSlide=f?d.slides.length-1:d.nextSlide-1)},calcTx:function(e,d){var g,f=e;return d&&f.manualFx&&(g=c.fn.cycle.transitions[f.manualFx]),g||(g=c.fn.cycle.transitions[f.fx]),g||(g=c.fn.cycle.transitions.fade,f.API.log('Transition "'+f.fx+'" not found.  Using fade.')),g},prepareTx:function(j,g){var f,p,h,k,m,d=this.opts();return 2>d.slideCount?(d.timeoutId=0,void 0):(!j||d.busy&&!d.manualTrump||(d.API.stopTransition(),d.busy=!1,clearTimeout(d.timeoutId),d.timeoutId=0),d.busy||(0!==d.timeoutId||j)&&(p=d.slides[d.currSlide],h=d.slides[d.nextSlide],k=d.API.getSlideOpts(d.nextSlide),m=d.API.calcTx(k,j),d._tx=m,j&&void 0!==k.manualSpeed&&(k.speed=k.manualSpeed),d.nextSlide!=d.currSlide&&(j||!d.paused&&!d.hoverPaused&&d.timeout)?(d.API.trigger("cycle-before",[k,p,h,g]),m.before&&m.before(k,p,h,g),f=function(){d.busy=!1,d.container.data("cycle.opts")&&(m.after&&m.after(k,p,h,g),d.API.trigger("cycle-after",[k,p,h,g]),d.API.queueTransition(k),d.API.updateView(!0))},d.busy=!0,m.transition?m.transition(k,p,h,g,f):d.API.doTransition(k,p,h,g,f),d.API.calcNextSlide(),d.API.updateView()):d.API.queueTransition(k)),void 0)},doTransition:function(m,h,f,p,e){var j=m,g=c(h),d=c(f),k=function(){d.animate(j.animIn||{opacity:1},j.speed,j.easeIn||j.easing,e)};d.css(j.cssBefore||{}),g.animate(j.animOut||{},j.speed,j.easeOut||j.easing,function(){g.css(j.cssAfter||{}),j.sync||k()}),j.sync&&k()},queueTransition:function(e,d){var g=this.opts(),f=void 0!==d?d:e.timeout;return 0===g.nextSlide&&0===--g.loop?(g.API.log("terminating; loop=0"),g.timeout=0,f?setTimeout(function(){g.API.trigger("cycle-finished",[g])},f):g.API.trigger("cycle-finished",[g]),g.nextSlide=g.currSlide,void 0):(f&&(g._lastQueue=c.now(),void 0===d&&(g._remainingTimeout=e.timeout),g.paused||g.hoverPaused||(g.timeoutId=setTimeout(function(){g.API.prepareTx(!1,!g.reverse)},f))),void 0)},stopTransition:function(){var d=this.opts();d.slides.filter(":animated").length&&(d.slides.stop(!1,!0),d.API.trigger("cycle-transition-stopped",[d])),d._tx&&d._tx.stopTransition&&d._tx.stopTransition(d)},advanceSlide:function(f){var d=this.opts();return clearTimeout(d.timeoutId),d.timeoutId=0,d.nextSlide=d.currSlide+f,0>d.nextSlide?d.nextSlide=d.slides.length-1:d.nextSlide>=d.slides.length&&(d.nextSlide=0),d.API.prepareTx(!0,f>=0),!1},buildSlideOpts:function(e){var k,f,h=this.opts(),j=e.data()||{};for(var d in j){j.hasOwnProperty(d)&&/^cycle[A-Z]+/.test(d)&&(k=j[d],f=d.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b),h.API.log("["+(h.slideCount-1)+"]",f+":",k,"("+typeof k+")"),j[f]=k)}j=c.extend({},c.fn.cycle.defaults,h,j),j.slideNum=h.slideCount;try{delete j.API,delete j.slideCount,delete j.currSlide,delete j.nextSlide,delete j.slides}catch(g){}return j},getSlideOpts:function(e){var d=this.opts();void 0===e&&(e=d.currSlide);var g=d.slides[e],f=c(g).data("cycle.opts");return c.extend({},d,f)},initSlide:function(e,d,g){var f=this.opts();d.css(e.slideCss||{}),g>0&&d.css("zIndex",g),isNaN(e.speed)&&(e.speed=c.fx.speeds[e.speed]||c.fx.speeds._default),e.sync||(e.speed=e.speed/2),d.addClass(f.slideClass)},updateView:function(h,f){var d=this.opts();if(d._initialized){var j=d.API.getSlideOpts(),g=d.slides[d.currSlide];!h&&f!==!0&&(d.API.trigger("cycle-update-view-before",[d,j,g]),0>d.updateView)||(d.slideActiveClass&&d.slides.removeClass(d.slideActiveClass).eq(d.currSlide).addClass(d.slideActiveClass),h&&d.hideNonActive&&d.slides.filter(":not(."+d.slideActiveClass+")").css("visibility","hidden"),0===d.updateView&&setTimeout(function(){d.API.trigger("cycle-update-view",[d,j,g,h])},j.speed/(d.sync?2:1)),0!==d.updateView&&d.API.trigger("cycle-update-view",[d,j,g,h]),h&&d.API.trigger("cycle-update-view-after",[d,j,g]))}},getComponent:function(e){var d=this.opts(),f=d[e];return"string"==typeof f?/^\s*[\>|\+|~]/.test(f)?d.container.find(f):c(f):f.jquery?f:c(f)},stackSlides:function(f,e,k){var g=this.opts();f||(f=g.slides[g.currSlide],e=g.slides[g.nextSlide],k=!g.reverse),c(f).css("zIndex",g.maxZ);var h,j=g.maxZ-2,d=g.slideCount;if(k){for(h=g.currSlide+1;d>h;h++){c(g.slides[h]).css("zIndex",j--)}for(h=0;g.currSlide>h;h++){c(g.slides[h]).css("zIndex",j--)}}else{for(h=g.currSlide-1;h>=0;h--){c(g.slides[h]).css("zIndex",j--)}for(h=d-1;h>g.currSlide;h--){c(g.slides[h]).css("zIndex",j--)}}c(e).css("zIndex",g.maxZ-1)},getSlideIndex:function(d){return this.opts().slides.index(d)}},c.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},c.fn.cycle.version=function(){return"Cycle2: "+a},c.fn.cycle.transitions={custom:{},none:{before:function(g,f,d,h){g.API.stackSlides(d,f,h),g.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(e,d,h,f){var g=e.API.getSlideOpts(e.nextSlide).slideCss||{};e.API.stackSlides(d,h,f),e.cssBefore=c.extend(g,{opacity:0,visibility:"visible",display:"block"}),e.animIn={opacity:1},e.animOut={opacity:0}}},fadeout:{before:function(e,d,h,f){var g=e.API.getSlideOpts(e.nextSlide).slideCss||{};e.API.stackSlides(d,h,f),e.cssBefore=c.extend(g,{opacity:1,visibility:"visible",display:"block"}),e.animOut={opacity:0}}},scrollHorz:{before:function(h,f,d,j){h.API.stackSlides(f,d,j);var g=h.container.css("overflow","hidden").width();h.cssBefore={left:j?g:-g,top:0,opacity:1,visibility:"visible",display:"block"},h.cssAfter={zIndex:h._maxZ-2,left:0},h.animIn={left:0},h.animOut={left:j?-g:g}}}},c.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4000,updateView:0},c(document).ready(function(){c(c.fn.cycle.defaults.autoSelector).cycle()})})(jQuery),function(d){function b(g,k){var h,i,j,e=k.autoHeight;if("container"==e){i=d(k.slides[k.currSlide]).outerHeight(),k.container.height(i)}else{if(k._autoHeightRatio){k.container.height(k.container.width()/k._autoHeightRatio)}else{if("calc"===e||"number"==d.type(e)&&e>=0){if(j="calc"===e?a(g,k):e>=k.slides.length?0:e,j==k._sentinelIndex){return}k._sentinelIndex=j,k._sentinel&&k._sentinel.remove(),h=d(k.slides[j].cloneNode(!0)),h.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),h.css({position:"static",visibility:"hidden",display:"block"}).prependTo(k.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),h.find("*").css("visibility","hidden"),k._sentinel=h}}}}function a(g,e){var j=0,h=-1;return e.slides.each(function(l){var k=d(this).height();k>h&&(h=k,j=l)}),j}function f(g,e,k,h){var j=d(h).outerHeight();e.container.animate({height:j},e.autoHeightSpeed,e.autoHeightEasing)}function c(e,g){g._autoHeightOnResize&&(d(window).off("resize orientationchange",g._autoHeightOnResize),g._autoHeightOnResize=null),g.container.off("cycle-slide-added cycle-slide-removed",b),g.container.off("cycle-destroyed",c),g.container.off("cycle-before",f),g._sentinel&&(g._sentinel.remove(),g._sentinel=null)}d.extend(d.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),d(document).on("cycle-initialized",function(h,m){function n(){b(h,m)}var g,j=m.autoHeight,e=d.type(j),k=null;("string"===e||"number"===e)&&(m.container.on("cycle-slide-added cycle-slide-removed",b),m.container.on("cycle-destroyed",c),"container"==j?m.container.on("cycle-before",f):"string"===e&&/\d+\:\d+/.test(j)&&(g=j.match(/(\d+)\:(\d+)/),g=g[1]/g[2],m._autoHeightRatio=g),"number"!==e&&(m._autoHeightOnResize=function(){clearTimeout(k),k=setTimeout(n,50)},d(window).on("resize orientationchange",m._autoHeightOnResize)),setTimeout(n,30))})}(jQuery),function(a){a.extend(a.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),a(document).on("cycle-update-view",function(c,b,e,d){"caption"===b.captionModule&&a.each(["caption","overlay"],function(){var g=this,f=e[g+"Template"],h=b.API.getComponent(g);h.length&&f?(h.html(b.API.tmpl(f,e,b,d)),h.show()):h.hide()})}),a(document).on("cycle-destroyed",function(c,b){var d;a.each(["caption","overlay"],function(){var g=this,f=b[g+"Template"];b[g]&&f&&(d=b.API.getComponent("caption"),d.empty())})})}(jQuery),function(b){var a=b.fn.cycle;b.fn.cycle=function(d){var h,e,f,g=b.makeArray(arguments);return"number"==b.type(d)?this.cycle("goto",d):"string"==b.type(d)?this.each(function(){var c;return h=d,f=b(this).data("cycle.opts"),void 0===f?(a.log('slideshow must be initialized before sending commands; "'+h+'" ignored'),void 0):(h="goto"==h?"jump":h,e=f.API[h],b.isFunction(e)?(c=b.makeArray(g),c.shift(),e.apply(f.API,c)):(a.log("unknown command: ",h),void 0))}):a.apply(this,arguments)},b.extend(b.fn.cycle,a),b.extend(a.API,{next:function(){var d=this.opts();if(!d.busy||d.manualTrump){var c=d.reverse?-1:1;d.allowWrap===!1&&d.currSlide+c>=d.slideCount||(d.API.advanceSlide(c),d.API.trigger("cycle-next",[d]).log("cycle-next"))}},prev:function(){var d=this.opts();if(!d.busy||d.manualTrump){var c=d.reverse?1:-1;d.allowWrap===!1&&0>d.currSlide+c||(d.API.advanceSlide(c),d.API.trigger("cycle-prev",[d]).log("cycle-prev"))}},destroy:function(){this.stop();var d=this.opts(),c=b.isFunction(b._data)?b._data:b.noop;clearTimeout(d.timeoutId),d.timeoutId=0,d.API.stop(),d.API.trigger("cycle-destroyed",[d]).log("cycle-destroyed"),d.container.removeData(),c(d.container[0],"parsedAttrs",!1),d.retainStylesOnDestroy||(d.container.removeAttr("style"),d.slides.removeAttr("style"),d.slides.removeClass(d.slideActiveClass)),d.slides.each(function(){b(this).removeData(),c(this,"parsedAttrs",!1)})},jump:function(f){var d,c=this.opts();if(!c.busy||c.manualTrump){var g=parseInt(f,10);if(isNaN(g)||0>g||g>=c.slides.length){return c.API.log("goto: invalid slide index: "+g),void 0}if(g==c.currSlide){return c.API.log("goto: skipping, already on slide",g),void 0}c.nextSlide=g,clearTimeout(c.timeoutId),c.timeoutId=0,c.API.log("goto: ",g," (zero-index)"),d=c.currSlide<c.nextSlide,c.API.prepareTx(!0,d)}},stop:function(){var d=this.opts(),c=d.container;clearTimeout(d.timeoutId),d.timeoutId=0,d.API.stopTransition(),d.pauseOnHover&&(d.pauseOnHover!==!0&&(c=b(d.pauseOnHover)),c.off("mouseenter mouseleave")),d.API.trigger("cycle-stopped",[d]).log("cycle-stopped")},reinit:function(){var c=this.opts();c.API.destroy(),c.container.cycle()},remove:function(f){for(var e,k,g=this.opts(),h=[],j=1,d=0;g.slides.length>d;d++){e=g.slides[d],d==f?k=e:(h.push(e),b(e).data("cycle.opts").slideNum=j,j++)}k&&(g.slides=b(h),g.slideCount--,b(k).remove(),f==g.currSlide?g.API.advanceSlide(1):g.currSlide>f?g.currSlide--:g.currSlide++,g.API.trigger("cycle-slide-removed",[g,f,k]).log("cycle-slide-removed"),g.API.updateView())}}),b(document).on("click.cycle","[data-cycle-cmd]",function(d){d.preventDefault();var c=b(this),f=c.data("cycle-cmd"),e=c.data("cycle-context")||".cycle-slideshow";b(e).cycle(f,c.data("cycle-arg"))})}(jQuery),function(b){function a(d,c){var e;return d._hashFence?(d._hashFence=!1,void 0):(e=window.location.hash.substring(1),d.slides.each(function(f){if(b(this).data("cycle-hash")==e){if(c===!0){d.startingSlide=f}else{var g=f>d.currSlide;d.nextSlide=f,d.API.prepareTx(!0,g)}return !1}}),void 0)}b(document).on("cycle-pre-initialize",function(c,d){a(d,!0),d._onHashChange=function(){a(d,!1)},b(window).on("hashchange",d._onHashChange)}),b(document).on("cycle-update-view",function(f,d,c){c.hash&&"#"+c.hash!=window.location.hash&&(d._hashFence=!0,window.location.hash=c.hash)}),b(document).on("cycle-destroyed",function(d,c){c._onHashChange&&b(window).off("hashchange",c._onHashChange)})}(jQuery),function(a){a.extend(a.fn.cycle.defaults,{loader:!1}),a(document).on("cycle-bootstrap",function(c,b){function e(h,m){function j(l){var n;"wait"==b.loader?(g.push(l),0===f&&(g.sort(k),d.apply(b.API,[g,m]),b.container.removeClass("cycle-loading"))):(n=a(b.slides[b.currSlide]),d.apply(b.API,[l,m]),n.show(),b.container.removeClass("cycle-loading"))}function k(n,l){return n.data("index")-l.data("index")}var g=[];if("string"==a.type(h)){h=a.trim(h)}else{if("array"===a.type(h)){for(var i=0;h.length>i;i++){h[i]=a(h[i])[0]}}}h=a(h);var f=h.length;f&&(h.css("visibility","hidden").appendTo("body").each(function(n){function q(){0===--o&&(--f,j(p))}var o=0,p=a(this),l=p.is("img")?p:p.find("img");return p.data("index",n),l=l.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),l.length?(o=l.length,l.each(function(){this.complete?q():a(this).load(function(){q()}).on("error",function(){0===--o&&(b.API.log("slide skipped; img not loaded:",this.src),0===--f&&"wait"==b.loader&&d.apply(b.API,[g,m]))})}),void 0):(--f,g.push(p),void 0)}),f&&b.container.addClass("cycle-loading"))}var d;b.loader&&(d=b.API.add,b.API.add=e)})}(jQuery),function(c){function b(e,d,h){var f,g=e.API.getComponent("pager");g.each(function(){var i=c(this);if(d.pagerTemplate){var j=e.API.tmpl(d.pagerTemplate,d,e,h[0]);f=c(j).appendTo(i)}else{f=i.children().eq(e.slideCount-1)}f.on(e.pagerEvent,function(k){k.preventDefault(),e.API.page(i,k.currentTarget)})})}function a(h,f){var d=this.opts();if(!d.busy||d.manualTrump){var k=h.children().index(f),g=k,j=g>d.currSlide;d.currSlide!=g&&(d.nextSlide=g,d.API.prepareTx(!0,j),d.API.trigger("cycle-pager-activated",[d,h,f]))}}c.extend(c.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerTemplate:"<span>&bull;</span>"}),c(document).on("cycle-bootstrap",function(f,d,g){g.buildPagerLink=b}),c(document).on("cycle-slide-added",function(g,d,h,f){d.pager&&(d.API.buildPagerLink(d,h,f),d.API.page=a)}),c(document).on("cycle-slide-removed",function(e,d,g){if(d.pager){var f=d.API.getComponent("pager");f.each(function(){var h=c(this);c(h.children()[g]).remove()})}}),c(document).on("cycle-update-view",function(e,d){var f;d.pager&&(f=d.API.getComponent("pager"),f.each(function(){c(this).children().removeClass(d.pagerActiveClass).eq(d.currSlide).addClass(d.pagerActiveClass)}))}),c(document).on("cycle-destroyed",function(g,f){var d=f.API.getComponent("pager");d&&(d.children().off(f.pagerEvent),f.pagerTemplate&&d.empty())})}(jQuery),function(a){a.extend(a.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),a(document).on("cycle-initialized",function(d,c){if(c.API.getComponent("next").on(c.nextEvent,function(g){g.preventDefault(),c.API.next()}),c.API.getComponent("prev").on(c.prevEvent,function(g){g.preventDefault(),c.API.prev()}),c.swipe){var b=c.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",f=c.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";c.container.on(b,function(){c.API.next()}),c.container.on(f,function(){c.API.prev()})}}),a(document).on("cycle-update-view",function(g,d){if(!d.allowWrap){var b=d.disabledClass,k=d.API.getComponent("next"),f=d.API.getComponent("prev"),h=d._prevBoundry||0,j=void 0!==d._nextBoundry?d._nextBoundry:d.slideCount-1;d.currSlide==j?k.addClass(b).prop("disabled",!0):k.removeClass(b).prop("disabled",!1),d.currSlide===h?f.addClass(b).prop("disabled",!0):f.removeClass(b).prop("disabled",!1)}}),a(document).on("cycle-destroyed",function(c,b){b.API.getComponent("prev").off(b.nextEvent),b.API.getComponent("next").off(b.prevEvent),b.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(a){a.extend(a.fn.cycle.defaults,{progressive:!1}),a(document).on("cycle-pre-initialize",function(p,h){if(h.progressive){var f,q,e=h.API,k=e.next,g=e.prev,b=e.prepareTx,m=a.type(h.progressive);if("array"==m){f=h.progressive}else{if(a.isFunction(h.progressive)){f=h.progressive(h)}else{if("string"==m){if(q=a(h.progressive),f=a.trim(q.html()),!f){return}if(/^(\[)/.test(f)){try{f=a.parseJSON(f)}catch(j){return e.log("error parsing progressive slides",j),void 0}}else{f=f.split(RegExp(q.data("cycle-split")||"\n")),f[f.length-1]||f.pop()}}}}b&&(e.prepareTx=function(i,c){var d,l;return i||0===f.length?(b.apply(h.API,[i,c]),void 0):(c&&h.currSlide==h.slideCount-1?(l=f[0],f=f.slice(1),h.container.one("cycle-slide-added",function(o,n){setTimeout(function(){n.API.advanceSlide(1)},50)}),h.API.add(l)):c||0!==h.currSlide?b.apply(h.API,[i,c]):(d=f.length-1,l=f[d],f=f.slice(0,d),h.container.one("cycle-slide-added",function(o,n){setTimeout(function(){n.currSlide=1,n.API.advanceSlide(-1)},50)}),h.API.add(l,!0)),void 0)}),k&&(e.next=function(){var d=this.opts();if(f.length&&d.currSlide==d.slideCount-1){var c=f[0];f=f.slice(1),d.container.one("cycle-slide-added",function(l,i){k.apply(i.API),i.container.removeClass("cycle-loading")}),d.container.addClass("cycle-loading"),d.API.add(c)}else{k.apply(d.API)}}),g&&(e.prev=function(){var l=this.opts();if(f.length&&0===l.currSlide){var d=f.length-1,c=f[d];f=f.slice(0,d),l.container.one("cycle-slide-added",function(n,i){i.currSlide=1,i.API.advanceSlide(-1),i.container.removeClass("cycle-loading")}),l.container.addClass("cycle-loading"),l.API.add(c,!0)}else{g.apply(l.API)}})}})}(jQuery),function(a){a.extend(a.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),a.extend(a.fn.cycle.API,{tmpl:function(c,b){var e=RegExp(b.tmplRegex||a.fn.cycle.defaults.tmplRegex,"g"),d=a.makeArray(arguments);return d.shift(),c.replace(e,function(h,g){var p,k,m,f,j=g.split(".");for(p=0;d.length>p;p++){if(m=d[p]){if(j.length>1){for(f=m,k=0;j.length>k;k++){m=f,f=f[j[k]]||g}}else{f=m[g]}if(a.isFunction(f)){return f.apply(m,d)}if(void 0!==f&&null!==f&&f!=g){return f}}}return g})}})}(jQuery);(function(a){a(document).on("cycle-bootstrap",function(d,c,b){"carousel"===c.fx&&(b.getSlideIndex=function(h){var g=this.opts()._carouselWrap.children(),f=g.index(h);return f%g.length},b.next=function(){var f=c.reverse?-1:1;c.allowWrap===!1&&c.currSlide+f>c.slideCount-c.carouselVisible||(c.API.advanceSlide(f),c.API.trigger("cycle-next",[c]).log("cycle-next"))})}),a.fn.cycle.transitions.carousel={preInit:function(c){c.hideNonActive=!1,c.container.on("cycle-destroyed",a.proxy(this.onDestroy,c.API)),c.API.stopTransition=this.stopTransition;for(var b=0;c.startingSlide>b;b++){c.container.append(c.slides[0])}},postInit:function(e){var d,k,f,h,g=e.carouselVertical;e.carouselVisible&&e.carouselVisible>e.slideCount&&(e.carouselVisible=e.slideCount-1);var b=e.carouselVisible||e.slides.length,j={display:g?"block":"inline-block",position:"static"};if(e.container.css({position:"relative",overflow:"hidden"}),e.slides.css(j),e._currSlide=e.currSlide,h=a('<div class="cycle-carousel-wrap"></div>').prependTo(e.container).css({margin:0,padding:0,top:0,left:0,position:"absolute"}).append(e.slides),e._carouselWrap=h,g||h.css("white-space","nowrap"),e.allowWrap!==!1){for(k=0;(void 0===e.carouselVisible?2:1)>k;k++){for(d=0;e.slideCount>d;d++){h.append(e.slides[d].cloneNode(!0))}for(d=e.slideCount;d--;){h.prepend(e.slides[d].cloneNode(!0))}}h.find(".cycle-slide-active").removeClass("cycle-slide-active"),e.slides.eq(e.startingSlide).addClass("cycle-slide-active")}e.pager&&e.allowWrap===!1&&(f=e.slideCount-b,a(e.pager).children().filter(":gt("+f+")").hide()),e._nextBoundry=e.slideCount-e.carouselVisible,this.prepareDimensions(e)},prepareDimensions:function(d){var c,h,e,g,f=d.carouselVertical,b=d.carouselVisible||d.slides.length;if(d.carouselFluid&&d.carouselVisible?d._carouselResizeThrottle||this.fluidSlides(d):d.carouselVisible&&d.carouselSlideDimension?(c=b*d.carouselSlideDimension,d.container[f?"height":"width"](c)):d.carouselVisible&&(c=b*a(d.slides[0])[f?"outerHeight":"outerWidth"](!0),d.container[f?"height":"width"](c)),h=d.carouselOffset||0,d.allowWrap!==!1){if(d.carouselSlideDimension){h-=(d.slideCount+d.currSlide)*d.carouselSlideDimension}else{for(e=d._carouselWrap.children(),g=0;d.slideCount+d.currSlide>g;g++){h-=a(e[g])[f?"outerHeight":"outerWidth"](!0)}}}d._carouselWrap.css(f?"top":"left",h)},fluidSlides:function(d){function c(){clearTimeout(e),e=setTimeout(h,20)}function h(){d._carouselWrap.stop(!1,!0);var i=d.container.width()/d.carouselVisible;i=Math.ceil(i-f),d._carouselWrap.children().width(i),d._sentinel&&d._sentinel.width(i),b(d)}var e,g=d.slides.eq(0),f=g.outerWidth()-g.width(),b=this.prepareDimensions;a(window).on("resize",c),d._carouselResizeThrottle=c,h()},transition:function(w,j,g,x,f){var b,h={},m=w.nextSlide-w.currSlide,q=w.carouselVertical,k=w.speed;if(w.allowWrap===!1){x=m>0;var v=w._currSlide,e=w.slideCount-w.carouselVisible;m>0&&w.nextSlide>e&&v==e?m=0:m>0&&w.nextSlide>e?m=w.nextSlide-v-(w.nextSlide-e):0>m&&w.currSlide>e&&w.nextSlide>e?m=0:0>m&&w.currSlide>e?m+=w.currSlide-e:v=w.currSlide,b=this.getScroll(w,q,v,m),w.API.opts()._currSlide=w.nextSlide>e?e:w.nextSlide}else{x&&0===w.nextSlide?(b=this.getDim(w,w.currSlide,q),f=this.genCallback(w,x,q,f)):x||w.nextSlide!=w.slideCount-1?b=this.getScroll(w,q,w.currSlide,m):(b=this.getDim(w,w.currSlide,q),f=this.genCallback(w,x,q,f))}h[q?"top":"left"]=x?"-="+b:"+="+b,w.throttleSpeed&&(k=b/a(w.slides[0])[q?"height":"width"]()*w.speed),w._carouselWrap.animate(h,k,w.easing,f)},getDim:function(c,b,e){var d=a(c.slides[b]);return d[e?"outerHeight":"outerWidth"](!0)},getScroll:function(f,c,b,h){var d,g=0;if(h>0){for(d=b;b+h>d;d++){g+=this.getDim(f,d,c)}}else{for(d=b;d>b+h;d--){g+=this.getDim(f,d,c)}}return g},genCallback:function(c,b,e,d){return function(){var f=a(c.slides[c.nextSlide]).position(),g=0-f[e?"top":"left"]+(c.carouselOffset||0);c._carouselWrap.css(c.carouselVertical?"top":"left",g),d()}},stopTransition:function(){var b=this.opts();b.slides.stop(!1,!0),b._carouselWrap.stop(!1,!0)},onDestroy:function(){var b=this.opts();b._carouselResizeThrottle&&a(window).off("resize",b._carouselResizeThrottle),b.slides.prependTo(b.container),b._carouselWrap.remove()}}})(jQuery);(function(){var a,e,f;a=jQuery;f=(function(){function c(){this.fadeDuration=500;this.fitImagesInViewport=true;this.resizeDuration=700;this.showImageNumberLabel=true;this.wrapAround=false}c.prototype.albumLabel=function(d,g){return"Image "+d+" of "+g};return c})();e=(function(){function b(c){this.options=c;this.album=[];this.currentImageIndex=void 0;this.init()}b.prototype.init=function(){this.enable();return this.build()};b.prototype.enable=function(){var d=this;return a("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(c){d.start(a(c.currentTarget));return false})};b.prototype.build=function(){var d=this;a("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo(a("body"));this.$lightbox=a("#lightbox");this.$overlay=a("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.containerTopPadding=parseInt(this.$container.css("padding-top"),10);this.containerRightPadding=parseInt(this.$container.css("padding-right"),10);this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10);this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10);this.$overlay.hide().on("click",function(){d.end();return false});this.$lightbox.hide().on("click",function(c){if(a(c.target).attr("id")==="lightbox"){d.end()}return false});this.$outerContainer.on("click",function(c){if(a(c.target).attr("id")==="lightbox"){d.end()}return false});this.$lightbox.find(".lb-prev").on("click",function(){if(d.currentImageIndex===0){d.changeImage(d.album.length-1)}else{d.changeImage(d.currentImageIndex-1)}return false});this.$lightbox.find(".lb-next").on("click",function(){if(d.currentImageIndex===d.album.length-1){d.changeImage(0)}else{d.changeImage(d.currentImageIndex+1)}return false});return this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){d.end();return false})};b.prototype.start=function(D){var A,B,w,C,z,s,r,v,u,t,q,y,x;a(window).on("resize",this.sizeOverlay);a("select, object, embed").css({visibility:"hidden"});this.$overlay.width(a(document).width()).height(a(document).height()).fadeIn(this.options.fadeDuration);this.album=[];z=0;w=D.attr("data-lightbox");if(w){y=a(D.prop("tagName")+'[data-lightbox="'+w+'"]');for(C=v=0,t=y.length;v<t;C=++v){B=y[C];this.album.push({link:a(B).attr("href"),title:a(B).attr("title")});if(a(B).attr("href")===D.attr("href")){z=C}}}else{if(D.attr("rel")==="lightbox"){this.album.push({link:D.attr("href"),title:D.attr("title")})}else{x=a(D.prop("tagName")+'[rel="'+D.attr("rel")+'"]');for(C=u=0,q=x.length;u<q;C=++u){B=x[C];this.album.push({link:a(B).attr("href"),title:a(B).attr("title")});if(a(B).attr("href")===D.attr("href")){z=C}}}}A=a(window);r=A.scrollTop()+A.height()/10;s=A.scrollLeft();this.$lightbox.css({top:r+"px",left:s+"px"}).fadeIn(this.options.fadeDuration);this.changeImage(z)};b.prototype.changeImage=function(g){var i,j,h=this;this.disableKeyboardNav();i=this.$lightbox.find(".lb-image");this.sizeOverlay();this.$overlay.fadeIn(this.options.fadeDuration);a(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");j=new Image();j.onload=function(){var c,r,q,p,o,n,d;i.attr("src",h.album[g].link);c=a(j);i.width(j.width);i.height(j.height);if(h.options.fitImagesInViewport){d=a(window).width();n=a(window).height();o=d-h.containerLeftPadding-h.containerRightPadding-20;p=n-h.containerTopPadding-h.containerBottomPadding-110;if((j.width>o)||(j.height>p)){if((j.width/o)>(j.height/p)){q=o;r=parseInt(j.height/(j.width/q),10);i.width(q);i.height(r)}else{r=p;q=parseInt(j.width/(j.height/r),10);i.width(q);i.height(r)}}}return h.sizeContainer(i.width(),i.height())};j.src=this.album[g].link;this.currentImageIndex=g};b.prototype.sizeOverlay=function(){return a("#lightboxOverlay").width(a(document).width()).height(a(document).height())};b.prototype.sizeContainer=function(l,k){var i,n,m,j,o=this;j=this.$outerContainer.outerWidth();m=this.$outerContainer.outerHeight();n=l+this.containerLeftPadding+this.containerRightPadding;i=k+this.containerTopPadding+this.containerBottomPadding;this.$outerContainer.animate({width:n,height:i},this.options.resizeDuration,"swing");setTimeout(function(){o.$lightbox.find(".lb-dataContainer").width(n);o.$lightbox.find(".lb-prevLink").height(i);o.$lightbox.find(".lb-nextLink").height(i);o.showImage()},this.options.resizeDuration)};b.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide();this.$lightbox.find(".lb-image").fadeIn("slow");this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};b.prototype.updateNav=function(){this.$lightbox.find(".lb-nav").show();if(this.album.length>1){if(this.options.wrapAround){this.$lightbox.find(".lb-prev, .lb-next").show()}else{if(this.currentImageIndex>0){this.$lightbox.find(".lb-prev").show()}if(this.currentImageIndex<this.album.length-1){this.$lightbox.find(".lb-next").show()}}}};b.prototype.updateDetails=function(){var c=this;if(typeof this.album[this.currentImageIndex].title!=="undefined"&&this.album[this.currentImageIndex].title!==""){this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast")}if(this.album.length>1&&this.options.showImageNumberLabel){this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast")}else{this.$lightbox.find(".lb-number").hide()}this.$outerContainer.removeClass("animating");this.$lightbox.find(".lb-dataContainer").fadeIn(this.resizeDuration,function(){return c.sizeOverlay()})};b.prototype.preloadNeighboringImages=function(){var g,d;if(this.album.length>this.currentImageIndex+1){g=new Image();g.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){d=new Image();d.src=this.album[this.currentImageIndex-1].link}};b.prototype.enableKeyboardNav=function(){a(document).on("keyup.keyboard",a.proxy(this.keyboardAction,this))};b.prototype.disableKeyboardNav=function(){a(document).off(".keyboard")};b.prototype.keyboardAction=function(i){var l,k,j,m,h;l=27;k=37;j=39;h=i.keyCode;m=String.fromCharCode(h).toLowerCase();if(h===l||m.match(/x|o|c/)){this.end()}else{if(m==="p"||h===k){if(this.currentImageIndex!==0){this.changeImage(this.currentImageIndex-1)}}else{if(m==="n"||h===j){if(this.currentImageIndex!==this.album.length-1){this.changeImage(this.currentImageIndex+1)}}}}};b.prototype.end=function(){this.disableKeyboardNav();a(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);return a("select, object, embed").css({visibility:"visible"})};return b})();a(function(){var d,c;c=new f();return d=new e(c)})}).call(this);(function(a){a.fn.mask=function(c,b,d){a(this).each(function(){if(b!==undefined&&b>0){var e=a(this);e.data("_mask_timeout",setTimeout(function(){a.maskElement(e,c)},b))}else{a.maskElement(a(this),c,d)}})};a.fn.unmask=function(){a(this).each(function(){a.unmaskElement(a(this))})};a.fn.isMasked=function(){return this.hasClass("masked")};a.maskElement=function(d,c,f){if(d.data("_mask_timeout")!==undefined){clearTimeout(d.data("_mask_timeout"));d.removeData("_mask_timeout")}if(d.isMasked()){a.unmaskElement(d)}if(d.css("position")=="static"){d.addClass("masked-relative")}d.addClass("masked");var e=a('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1){e.height(d.height()+parseInt(d.css("padding-top"))+parseInt(d.css("padding-bottom")));e.width(d.width()+parseInt(d.css("padding-left"))+parseInt(d.css("padding-right")))}if(navigator.userAgent.toLowerCase().indexOf("msie 6")>-1){d.find("select").addClass("masked-hidden")}d.append(e);if(c!==undefined){var b=a('<div class="loadmask-msg" style="display:none;"></div>');b.append("<div>"+c+"</div>");d.append(b);if(f){b.css("top",f+"px")}else{b.css("top",Math.round(d.height()/2-(b.height()-parseInt(b.css("padding-top"))-parseInt(b.css("padding-bottom")))/2)+"px")}b.css("left",Math.round(d.width()/2-(b.width()-parseInt(b.css("padding-left"))-parseInt(b.css("padding-right")))/2)+"px");b.show()}};a.unmaskElement=function(b){if(b.data("_mask_timeout")!==undefined){clearTimeout(b.data("_mask_timeout"));b.removeData("_mask_timeout")}b.find(".loadmask-msg,.loadmask").remove();b.removeClass("masked");b.removeClass("masked-relative");b.find("select").removeClass("masked-hidden")}})(jQuery);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(f){var c={};c.fileapi=f("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;var e=!!f.fn.prop;f.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments)}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g}return this.attr.apply(this,arguments)};f.fn.ajaxSubmit=function(j){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var i,C,m,o=this;if(typeof j=="function"){j={success:j}}else{if(j===undefined){j={}}}i=j.type||this.attr2("method");C=j.url||this.attr2("action");m=(typeof C==="string")?f.trim(C):"";m=m||window.location.href||"";if(m){m=(m.match(/^([^#]+)/)||[])[1]}j=f.extend(true,{url:m,success:f.ajaxSettings.success,type:i||f.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},j);var u={};this.trigger("form-pre-serialize",[this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(j.beforeSerialize&&j.beforeSerialize(this,j)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n=j.traditional;if(n===undefined){n=f.ajaxSettings.traditional}var s=[];var E,F=this.formToArray(j.semantic,s);if(j.data){j.extraData=j.data;E=f.param(j.data,n)}if(j.beforeSubmit&&j.beforeSubmit(F,this,j)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[F,this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=f.param(F,n);if(E){y=(y?(y+"&"+E):E)}if(j.type.toUpperCase()=="GET"){j.url+=(j.url.indexOf("?")>=0?"&":"?")+y;j.data=null}else{j.data=y}var H=[];if(j.resetForm){H.push(function(){o.resetForm()})}if(j.clearForm){H.push(function(){o.clearForm(j.includeHidden)})}if(!j.dataType&&j.target){var l=j.success||function(){};H.push(function(q){var k=j.replaceTarget?"replaceWith":"html";f(j.target)[k](q).each(l,arguments)})}else{if(j.success){H.push(j.success)}}j.success=function(K,q,L){var J=j.context||this;for(var I=0,k=H.length;I<k;I++){H[I].apply(J,[K,q,L||o,o])}};if(j.error){var z=j.error;j.error=function(J,k,q){var I=j.context||this;z.apply(I,[J,k,q,o])}}if(j.complete){var h=j.complete;j.complete=function(I,k){var q=j.context||this;h.apply(q,[I,k,o])}}var D=f("input[type=file]:enabled",this).filter(function(){return f(this).val()!==""});var p=D.length>0;var B="multipart/form-data";var x=(o.attr("enctype")==B||o.attr("encoding")==B);var w=c.fileapi&&c.formdata;d("fileAPI :"+w);var r=(p||x)&&!w;var v;if(j.iframe!==false&&(j.iframe||r)){if(j.closeKeepAlive){f.get(j.closeKeepAlive,function(){v=G(F)})}else{v=G(F)}}else{if((p||x)&&w){v=t(F)}else{v=f.ajax(j)}}o.removeData("jqxhr").data("jqxhr",v);for(var A=0;A<s.length;A++){s[A]=null}this.trigger("form-submit-notify",[this,j]);return this;function g(K){var L=f.param(K,j.traditional).split("&");var q=L.length;var k=[];var J,I;for(J=0;J<q;J++){L[J]=L[J].replace(/\+/g," ");I=L[J].split("=");k.push([decodeURIComponent(I[0]),decodeURIComponent(I[1])])}return k}function t(q){var k=new FormData();for(var I=0;I<q.length;I++){k.append(q[I].name,q[I].value)}if(j.extraData){var L=g(j.extraData);for(I=0;I<L.length;I++){if(L[I]){k.append(L[I][0],L[I][1])}}}j.data=null;var K=f.extend(true,{},f.ajaxSettings,j,{contentType:false,processData:false,cache:false,type:i||"POST"});if(j.uploadProgress){K.xhr=function(){var M=f.ajaxSettings.xhr();if(M.upload){M.upload.addEventListener("progress",function(Q){var P=0;var N=Q.loaded||Q.position;var O=Q.total;if(Q.lengthComputable){P=Math.ceil(N/O*100)}j.uploadProgress(Q,N,O,P)},false)}return M}}K.data=null;var J=K.beforeSend;K.beforeSend=function(N,M){if(j.formData){M.data=j.formData}else{M.data=k}if(J){J.call(this,N,M)}};return f.ajax(K)}function G(af){var L=o[0],K,ab,V,ad,Y,N,Q,O,P,Z,ac,T;var ai=f.Deferred();ai.abort=function(aj){O.abort(aj)};if(af){for(ab=0;ab<s.length;ab++){K=f(s[ab]);if(e){K.prop("disabled",false)}else{K.removeAttr("disabled")}}}V=f.extend(true,{},f.ajaxSettings,j);V.context=V.context||V;Y="jqFormIO"+(new Date().getTime());if(V.iframeTarget){N=f(V.iframeTarget);Z=N.attr2("name");if(!Z){N.attr2("name",Y)}else{Y=Z}}else{N=f('<iframe name="'+Y+'" src="'+V.iframeSrc+'" />');N.css({position:"absolute",top:"-1000px",left:"-1000px"})}Q=N[0];O={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ak=(aj==="timeout"?"timeout":"aborted");d("aborting upload... "+ak);this.aborted=1;try{if(Q.contentWindow.document.execCommand){Q.contentWindow.document.execCommand("Stop")}}catch(al){}N.attr("src",V.iframeSrc);O.error=ak;if(V.error){V.error.call(V.context,O,ak,aj)}if(ad){f.event.trigger("ajaxError",[O,V,ak])}if(V.complete){V.complete.call(V.context,O,ak)}}};ad=V.global;if(ad&&0===f.active++){f.event.trigger("ajaxStart")}if(ad){f.event.trigger("ajaxSend",[O,V])}if(V.beforeSend&&V.beforeSend.call(V.context,O,V)===false){if(V.global){f.active--}ai.reject();return ai}if(O.aborted){ai.reject();return ai}P=L.clk;if(P){Z=P.name;if(Z&&!P.disabled){V.extraData=V.extraData||{};V.extraData[Z]=P.value;if(P.type=="image"){V.extraData[Z+".x"]=L.clk_x;V.extraData[Z+".y"]=L.clk_y}}}var U=1;var R=2;function S(al){var ak=null;try{if(al.contentWindow){ak=al.contentWindow.document}}catch(aj){d("cannot get iframe.contentWindow document: "+aj)}if(ak){return ak}try{ak=al.contentDocument?al.contentDocument:al.document}catch(aj){d("cannot get iframe.contentDocument: "+aj);ak=al.document}return ak}var J=f("meta[name=csrf-token]").attr("content");var I=f("meta[name=csrf-param]").attr("content");if(I&&J){V.extraData=V.extraData||{};V.extraData[I]=J}function aa(){var ar=o.attr2("target"),an=o.attr2("action"),al="multipart/form-data",ao=o.attr("enctype")||o.attr("encoding")||al;L.setAttribute("target",Y);if(!i||/post/i.test(i)){L.setAttribute("method","POST")}if(an!=V.url){L.setAttribute("action",V.url)}if(!V.skipEncodingOverride&&(!i||/post/i.test(i))){o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(V.timeout){T=setTimeout(function(){ac=true;X(U)},V.timeout)}function ap(){try{var at=S(Q).readyState;d("state = "+at);if(at&&at.toLowerCase()=="uninitialized"){setTimeout(ap,50)}}catch(au){d("Server abort: ",au," (",au.name,")");X(R);if(T){clearTimeout(T)}T=undefined}}var aq=[];try{if(V.extraData){for(var ak in V.extraData){if(V.extraData.hasOwnProperty(ak)){if(f.isPlainObject(V.extraData[ak])&&V.extraData[ak].hasOwnProperty("name")&&V.extraData[ak].hasOwnProperty("value")){aq.push(f('<input type="hidden" name="'+V.extraData[ak].name+'">').val(V.extraData[ak].value).appendTo(L)[0])}else{aq.push(f('<input type="hidden" name="'+ak+'">').val(V.extraData[ak]).appendTo(L)[0])}}}}if(!V.iframeTarget){N.appendTo("body")}if(Q.attachEvent){Q.attachEvent("onload",X)}else{Q.addEventListener("load",X,false)}setTimeout(ap,15);try{L.submit()}catch(am){var aj=document.createElement("form").submit;aj.apply(L)}}finally{L.setAttribute("action",an);L.setAttribute("enctype",ao);if(ar){L.setAttribute("target",ar)}else{o.removeAttr("target")}f(aq).remove()}}if(V.forceSync){aa()}else{setTimeout(aa,10)}var ag,ah,ae=50,M;function X(ap){if(O.aborted||M){return}ah=S(Q);if(!ah){d("cannot access response document");ap=R}if(ap===U&&O){O.abort("timeout");ai.reject(O,"timeout");return}else{if(ap==R&&O){O.abort("server abort");ai.reject(O,"error","server abort");return}}if(!ah||ah.location.href==V.iframeSrc){if(!ac){return}}if(Q.detachEvent){Q.detachEvent("onload",X)}else{Q.removeEventListener("load",X,false)}var an="success",ar;try{if(ac){throw"timeout"}var am=V.dataType=="xml"||ah.XMLDocument||f.isXMLDoc(ah);d("isXml="+am);if(!am&&window.opera&&(ah.body===null||!ah.body.innerHTML)){if(--ae){d("requeing onLoad callback, DOM not available");setTimeout(X,250);return}}var at=ah.body?ah.body:ah.documentElement;O.responseText=at?at.innerHTML:null;O.responseXML=ah.XMLDocument?ah.XMLDocument:ah;if(am){V.dataType="xml"}O.getResponseHeader=function(aw){var av={"content-type":V.dataType};return av[aw.toLowerCase()]};if(at){O.status=Number(at.getAttribute("status"))||O.status;O.statusText=at.getAttribute("statusText")||O.statusText}var aj=(V.dataType||"").toLowerCase();var aq=/(json|script|text)/.test(aj);if(aq||V.textarea){var ao=ah.getElementsByTagName("textarea")[0];if(ao){O.responseText=ao.value;O.status=Number(ao.getAttribute("status"))||O.status;O.statusText=ao.getAttribute("statusText")||O.statusText}else{if(aq){var ak=ah.getElementsByTagName("pre")[0];var au=ah.getElementsByTagName("body")[0];if(ak){O.responseText=ak.textContent?ak.textContent:ak.innerText}else{if(au){O.responseText=au.textContent?au.textContent:au.innerText}}}}}else{if(aj=="xml"&&!O.responseXML&&O.responseText){O.responseXML=W(O.responseText)}}try{ag=k(O,aj,V)}catch(al){an="parsererror";O.error=ar=(al||an)}}catch(al){d("error caught: ",al);an="error";O.error=ar=(al||an)}if(O.aborted){d("upload aborted");an=null}if(O.status){an=(O.status>=200&&O.status<300||O.status===304)?"success":"error"}if(an==="success"){if(V.success){V.success.call(V.context,ag,"success",O)}ai.resolve(O.responseText,"success",O);if(ad){f.event.trigger("ajaxSuccess",[O,V])}}else{if(an){if(ar===undefined){ar=O.statusText}if(V.error){V.error.call(V.context,O,an,ar)}ai.reject(O,"error",ar);if(ad){f.event.trigger("ajaxError",[O,V,ar])}}}if(ad){f.event.trigger("ajaxComplete",[O,V])}if(ad&&!--f.active){f.event.trigger("ajaxStop")}if(V.complete){V.complete.call(V.context,O,an)}M=true;if(V.timeout){clearTimeout(T)}setTimeout(function(){if(!V.iframeTarget){N.remove()}else{N.attr("src",V.iframeSrc)}O.responseXML=null},100)}var W=f.parseXML||function(aj,ak){if(window.ActiveXObject){ak=new ActiveXObject("Microsoft.XMLDOM");ak.async="false";ak.loadXML(aj)}else{ak=(new DOMParser()).parseFromString(aj,"text/xml")}return(ak&&ak.documentElement&&ak.documentElement.nodeName!="parsererror")?ak:null};var q=f.parseJSON||function(aj){return window["eval"]("("+aj+")")};var k=function(ao,am,al){var ak=ao.getResponseHeader("content-type")||"",aj=am==="xml"||!am&&ak.indexOf("xml")>=0,an=aj?ao.responseXML:ao.responseText;if(aj&&an.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(al&&al.dataFilter){an=al.dataFilter(an,am)}if(typeof an==="string"){if(am==="json"||!am&&ak.indexOf("json")>=0){an=q(an)}else{if(am==="script"||!am&&ak.indexOf("javascript")>=0){f.globalEval(an)}}}return an};return ai}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){d("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}d("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(h.target).ajaxSubmit(g)}}function a(k){var j=k.target;var h=f(j);if(!(h.is("[type=submit],[type=image]"))){var g=h.closest("[type=submit]");if(g.length===0){return}j=g[0]}var i=this;i.clk=j;if(j.type=="image"){if(k.offsetX!==undefined){i.clk_x=k.offsetX;i.clk_y=k.offsetY}else{if(typeof f.fn.offset=="function"){var l=h.offset();i.clk_x=k.pageX-l.left;i.clk_y=k.pageY-l.top}else{i.clk_x=k.pageX-j.offsetLeft;i.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(x,g){var w=[];if(this.length===0){return w}var l=this[0];var z=this.attr("id");var q=x?l.getElementsByTagName("*"):l.elements;var A;if(q&&!/MSIE [678]/.test(navigator.userAgent)){q=f(q).get()}if(z){A=f(":input[form="+z+"]").get();if(A.length){q=(q||[]).concat(A)}}if(!q||!q.length){return w}var r,p,o,y,m,t,k;for(r=0,t=q.length;r<t;r++){m=q[r];o=m.name;if(!o||m.disabled){continue}if(x&&l.clk&&m.type=="image"){if(l.clk==m){w.push({name:o,value:f(m).val(),type:m.type});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}y=f.fieldValue(m,true);if(y&&y.constructor==Array){if(g){g.push(m)}for(p=0,k=y.length;p<k;p++){w.push({name:o,value:y[p]})}}else{if(c.fileapi&&m.type=="file"){if(g){g.push(m)}var h=m.files;if(h.length){for(p=0;p<h.length;p++){w.push({name:o,value:h[p],type:m.type})}}else{w.push({name:o,value:"",type:m.type})}}else{if(y!==null&&typeof y!="undefined"){if(g){g.push(m)}w.push({name:o,value:y,type:m.type,required:m.required})}}}}if(!x&&l.clk){var s=f(l.clk),u=s[0];o=u.name;if(o&&!u.disabled&&u.type=="image"){w.push({name:o,value:s.val()});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return w};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,u=g.type,w=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!g.checked||(u=="submit"||u=="image")&&g.form&&g.form.clk!=g||w=="select"&&g.selectedIndex==-1)){return null}if(w=="select"){var p=g.selectedIndex;if(p<0){return null}var r=[],h=g.options;var l=(u=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var s=m.value;if(!s){s=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return s}r.push(s)}}return r}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var j=this.type,i=this.tagName.toLowerCase();if(h.test(j)||i=="textarea"){this.value=""}else{if(j=="checkbox"||j=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(j=="file"){if(/MSIE/.test(navigator.userAgent)){f(this).replaceWith(f(this).clone(true))}else{f(this).val("")}}else{if(g){if((g===true&&/hidden/.test(j))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var i=f(this).parent("select");if(g&&i[0]&&i[0].type=="select-one"){i.find("option").selected(false)}this.selected=g}}})};f.fn.ajaxSubmit.debug=false;function d(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}}));(function(o,g){var n={};n.version="0.3.2";n.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var p=Array.prototype.map,j=Array.isArray,f=Object.prototype.toString;function c(r){return !!(r===""||(r&&r.charCodeAt&&r.substr))}function k(r){return j?j(r):f.call(r)==="[object Array]"}function q(r){return r&&f.call(r)==="[object Object]"}function h(s,r){var t;s=s||{};r=r||{};for(t in r){if(r.hasOwnProperty(t)){if(s[t]==null){s[t]=r[t]}}}return s}function a(w,v,u){var t=[],s,r;if(!w){return t}if(p&&w.map===p){return w.map(v,u)}for(s=0,r=w.length;s<r;s++){t[s]=v.call(u,w[s],s,w)}return t}function l(s,r){s=Math.round(Math.abs(s));return isNaN(s)?r:s}function e(s){var r=n.settings.currency.format;if(typeof s==="function"){s=s()}if(c(s)&&s.match("%v")){return{pos:s,neg:s.replace("-","").replace("%v","-%v"),zero:s}}else{if(!s||!s.pos||!s.pos.match("%v")){return(!c(r))?r:n.settings.currency.format={pos:r,neg:r.replace("%v","-%v"),zero:r}}}return s}var i=n.unformat=n.parse=function(u,r){if(k(u)){return a(u,function(v){return i(v,r)})}u=u||0;if(typeof u==="number"){return u}r=r||n.settings.number.decimal;var t=new RegExp("[^0-9-"+r+"]",["g"]),s=parseFloat((""+u).replace(/\((.*)\)/,"-$1").replace(t,"").replace(r,"."));return !isNaN(s)?s:0};var b=n.toFixed=function(t,r){r=l(r,n.settings.number.precision);var s=Math.pow(10,r);return(Math.round(n.unformat(t)*s)/s).toFixed(r)};var d=n.formatNumber=function(t,w,z,v){if(k(t)){return a(t,function(A){return d(A,w,z,v)})}t=i(t);var r=h((q(w)?w:{precision:w,thousand:z,decimal:v}),n.settings.number),x=l(r.precision),u=t<0?"-":"",s=parseInt(b(Math.abs(t||0),x),10)+"",y=s.length>3?s.length%3:0;return u+(y?s.substr(0,y)+r.thousand:"")+s.substr(y).replace(/(\d{3})(?=\d)/g,"$1"+r.thousand)+(x?r.decimal+b(Math.abs(t),x).split(".")[1]:"")};var m=n.formatMoney=function(t,s,v,z,u,y){if(k(t)){return a(t,function(A){return m(A,s,v,z,u,y)})}t=i(t);var r=h((q(s)?s:{symbol:s,precision:v,thousand:z,decimal:u,format:y}),n.settings.currency),x=e(r.format),w=t>0?x.pos:t<0?x.neg:x.zero;return w.replace("%s",r.symbol).replace("%v",d(Math.abs(t),l(r.precision),r.thousand,r.decimal))};n.formatColumn=function(y,t,w,B,v,A){if(!y){return[]}var r=h((q(t)?t:{symbol:t,precision:w,thousand:B,decimal:v,format:A}),n.settings.currency),z=e(r.format),x=z.pos.indexOf("%s")<z.pos.indexOf("%v")?true:false,s=0,u=a(y,function(F,D){if(k(F)){return n.formatColumn(F,r)}else{F=i(F);var C=F>0?z.pos:F<0?z.neg:z.zero,E=C.replace("%s",r.symbol).replace("%v",d(Math.abs(F),l(r.precision),r.thousand,r.decimal));if(E.length>s){s=E.length}return E}});return a(u,function(D,C){if(c(D)&&D.length<s){return x?D.replace(r.symbol,r.symbol+(new Array(s-D.length+1).join(" "))):(new Array(s-D.length+1).join(" "))+D}return D})};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=n}exports.accounting=n}else{if(typeof define==="function"&&define.amd){define([],function(){return n})}else{n.noConflict=(function(r){return function(){o.accounting=r;n.noConflict=g;return n}})(o.accounting);o.accounting=n}}}(this));(function(a){var b=function(f,c,e){var g=this,d;f=a(f);c=typeof c==="function"?c(f.val(),undefined,f,e):c;g.init=function(){e=e||{};g.byPassKeys=[9,16,17,18,36,37,38,39,40,91];g.translation={"0":{pattern:/\d/},"9":{pattern:/\d/,optional:true},"#":{pattern:/\d/,recursive:true},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}};g.translation=a.extend({},g.translation,e.translation);g=a.extend(true,{},g,e);f.each(function(){if(e.maxlength!==false){f.attr("maxlength",c.length)}f.attr("autocomplete","off");h.destroyEvents();h.events();h.val(h.getMasked())})};var h={getCaret:function(){var k,m=0,j=f.get(0),i=document.selection,l=j.selectionStart;if(i&&!~navigator.appVersion.indexOf("MSIE 10")){j.focus();k=i.createRange();k.moveStart("character",-j.value.length);m=k.text.length}else{if(l||l==="0"){m=l}}return m},setCaret:function(k){var i,j=f.get(0);if(j.setSelectionRange){j.focus();j.setSelectionRange(k,k)}else{if(j.createTextRange){i=j.createTextRange();i.collapse(true);i.moveEnd("character",k);i.moveStart("character",k);i.select()}}},events:function(){f.on("keydown.mask",function(){d=h.val()});f.on("keyup.mask",h.behaviour);f.on("paste.mask",function(){setTimeout(function(){f.keydown().keyup()},100)})},destroyEvents:function(){f.off("keydown.mask keyup.mask paste.mask")},val:function(i){var j=f.is("input");return arguments.length>0?(j?f.val(i):f.text(i)):(j?f.val():f.text())},behaviour:function(m){m=m||window.event;var l=m.keyCode||m.which;if(a.inArray(l,g.byPassKeys)===-1){var k,j=h.getCaret();if(j<h.val().length){k=true}var i=h.getMasked();if(i!==h.val()){h.val(i)}if(k&&!(l===65&&m.ctrlKey)){h.setCaret(j)}return h.callbacks(m)}},getMasked:function(w){var n=[],x=h.val(),p=0,t=c.length,y=0,l=x.length,s=1,r="push",o=-1,z,k;if(e.reverse){r="unshift";s=-1;z=0;p=t-1;y=l-1;k=function(){return p>-1&&y>-1}}else{z=t-1;k=function(){return p<t&&y<l}}while(k()){var q=c.charAt(p),j=x.charAt(y),i=g.translation[q];if(i){if(j.match(i.pattern)){n[r](j);if(i.recursive){if(o===-1){o=p}else{if(p===z){p=o-s}}if(z===o){p-=s}}p+=s}else{if(i.optional){p+=s;y-=s}}y+=s}else{if(!w){n[r](q)}if(j===q){y+=s}p+=s}}var u=c.charAt(z);if(t===l+1&&!g.translation[u]){n.push(u)}return n.join("")},callbacks:function(i){var k=h.val(),j=h.val()!==d;if(j===true){if(typeof e.onChange==="function"){e.onChange(k,i,f,e)}}if(j===true&&typeof e.onKeyPress==="function"){e.onKeyPress(k,i,f,e)}if(typeof e.onComplete==="function"&&k.length===c.length){e.onComplete(k,i,f,e)}}};g.remove=function(){h.destroyEvents();h.val(g.getCleanVal()).removeAttr("maxlength")};g.getCleanVal=function(){return h.getMasked(true)};g.init()};a.fn.mask=function(c,d){return this.each(function(){a(this).data("mask",new b(this,c,d))})};a.fn.unmask=function(){return this.each(function(){try{a(this).data("mask").remove()}catch(c){}})};a.fn.cleanVal=function(){return a(this).data("mask").getCleanVal()};a("*[data-mask]").each(function(){var c=a(this),d={};if(c.attr("data-mask-reverse")==="true"){d.reverse=true}if(c.attr("data-mask-maxlength")==="false"){d.maxlength=false}c.mask(c.attr("data-mask"),d)})})(window.jQuery||window.Zepto);var app={root_url:"/",app_root:"/app/",rest_root:"/app/rest/",admin_root:"/app/admin/",success_message:function(c,a,b){if(!a.jquery||!a.empty){a=$(a)}if(!b){b=5000}if(a&&c&&a.empty){a.empty().show();a.append('<p class="alert alert-success">'+c+"</p>");a.delay(b).fadeOut(400)}},error_message:function(c,a,b){if(!a.jquery||!a.empty){a=$(a)}if(!b){b=5000}if(a&&c&&a.empty){a.empty().show();a.append('<p class="alert alert-danger">'+c+"</p>");a.delay(b).fadeOut(400)}},fetch_error:function(c,a,b){if(a&&a.responseText){if($(".alert-container").length>0){app.error_message("<strong>Error:</strong> "+a.responseText,$(".alert-container"),99999)}else{if(console){console.error(a)}}}},calculate_age:function(b){var a=+new Date(b);return ~~((Date.now()-a)/(31557600000))},msg:{upcoming_session:"Get ready, you have a video session starting in <%=minutes_remaining%> minute(s)",ongoing_session:"<strong>Are you ready?</strong> Your video session started <%=minutes_remaining%> minute(s) ago"},msg_success:{credits_purchase:"Your credits have been purchased successfully."},msg_error:{credits_invalid_diary:'You do not have enough Blush Credits in order to create a new diary.  Please purchase more credits by clicking the "Add Credits" button on the right',credits_invalid_video:'You do not have enough Blush Credits in order to schedule a new video session.  Please purchase more credits by clicking the "Add Credits" button on the right',no_counselor:"You do not currently have a Blush Coach assigned to you.  Be patient and one will be assigned to you soon."}};jQuery(document).ready(function(){});app.theme={fix_footer_form:function(){$=jQuery.noConflict();$("#footer .gform_body").append('<div class="col-lg-6 left"></div>').append('<div class="col-lg-6 right"></div>');$("#footer li.gfield.left").appendTo("#footer .gform_body .col-lg-6.left");$("#footer li.gfield.right, #footer .gform_footer").appendTo("#footer .gform_body .col-lg-6.right");$(".gform_body input, .gform_body textarea").each(function(){var a=$(this).closest("li").find("label").text();$(this).attr("placeholder",a)})},adjust_sidebar_height:function(){$=jQuery.noConflict();var b=$(".body .main").height();var a=$(".body .sidebar").height();if(b>a){$(".body .sidebar").height(b)}},load_apply_job_modal:function(b){var a=this;if(jQuery("#apply-job-modal").length>0){jQuery("#apply-job-modal").modal("show");jQuery("#input_2_7").val(b)}else{jQuery.get("/about/careers/apply-popup-window/",{},function(c){jQuery("body").append(c);jQuery("#apply-job-modal").modal("show");a.gravity_placeholders();jQuery("#input_2_7").val(b)})}},gravity_placeholders:function(){jQuery(".gform_fields li").each(function(){if(jQuery(this).hasClass("no-placeholder")||jQuery(this).find(".ginput_complex").length>0){return}else{var a=jQuery(this).find("label").text();jQuery(this).find("input").attr("placeholder",a);jQuery(this).find("textarea").attr("placeholder",a);jQuery(this).find("select").attr("placeholder",a);jQuery(this).find("label").addClass("sr-only")}});jQuery(".gform_fields li .ginput_complex span").each(function(){var a=jQuery(this).find("label").text();jQuery(this).find("input").attr("placeholder",a);jQuery(this).find("label").addClass("sr-only")})}};jQuery(document).ready(function(){app.theme.fix_footer_form();app.theme.adjust_sidebar_height();jQuery("button.apply").click(function(){return false});jQuery("#featured-listings").on("click",".listing.item",function(){var a=jQuery(this).attr("data-url");window.location.href="/listing/"+a});jQuery("#featured-listings").on("click",".listing.city",function(){var a=jQuery(this).attr("data-url");window.location.href="/listings/"+a});jQuery("#general-reserve-form").validate();jQuery("#general-reserve-form").ajaxForm({success:function(b,c,d,a){app.success_message("Your reservation has been received successfully.  We will get back to you shortly.",$("#general-reserve-modal .alert-container"))}});jQuery("#button-contact-header").click(function(){var a=encodeURI("12777 Jones Rd STE 275, Houston, Texas 77070");window.open("https://maps.google.com/maps?daddr="+a,"","width=800,height=600")});jQuery("#career-accordion button.apply").click(function(a){var b=$(a.currentTarget).attr("data-title");app.theme.load_apply_job_modal(b);return false})})(function(){var w=this;var k=w._;var D={};var C=Array.prototype,f=Object.prototype,r=Function.prototype;var H=C.push,o=C.slice,y=C.concat,d=f.toString,j=f.hasOwnProperty;var L=C.forEach,q=C.map,E=C.reduce,c=C.reduceRight,b=C.filter,B=C.every,p=C.some,n=C.indexOf,l=C.lastIndexOf,u=Array.isArray,e=Object.keys,F=r.bind;var M=function(N){if(N instanceof M){return N}if(!(this instanceof M)){return new M(N)}this._wrapped=N};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=M}exports._=M}else{w._=M}M.VERSION="1.5.2";var I=M.each=M.forEach=function(S,P,O){if(S==null){return}if(L&&S.forEach===L){S.forEach(P,O)}else{if(S.length===+S.length){for(var N=0,R=S.length;N<R;N++){if(P.call(O,S[N],N,S)===D){return}}}else{var Q=M.keys(S);for(var N=0,R=Q.length;N<R;N++){if(P.call(O,S[Q[N]],Q[N],S)===D){return}}}}};M.map=M.collect=function(Q,P,O){var N=[];if(Q==null){return N}if(q&&Q.map===q){return Q.map(P,O)}I(Q,function(T,R,S){N.push(P.call(O,T,R,S))});return N};var g="Reduce of empty array with no initial value";M.reduce=M.foldl=M.inject=function(R,Q,N,P){var O=arguments.length>2;if(R==null){R=[]}if(E&&R.reduce===E){if(P){Q=M.bind(Q,P)}return O?R.reduce(Q,N):R.reduce(Q)}I(R,function(U,S,T){if(!O){N=U;O=true}else{N=Q.call(P,N,U,S,T)}});if(!O){throw new TypeError(g)}return N};M.reduceRight=M.foldr=function(T,Q,N,P){var O=arguments.length>2;if(T==null){T=[]}if(c&&T.reduceRight===c){if(P){Q=M.bind(Q,P)}return O?T.reduceRight(Q,N):T.reduceRight(Q)}var S=T.length;if(S!==+S){var R=M.keys(T);S=R.length}I(T,function(W,U,V){U=R?R[--S]:--S;if(!O){N=T[U];O=true}else{N=Q.call(P,N,T[U],U,V)}});if(!O){throw new TypeError(g)}return N};M.find=M.detect=function(Q,P,O){var N;A(Q,function(T,R,S){if(P.call(O,T,R,S)){N=T;return true}});return N};M.filter=M.select=function(Q,P,O){var N=[];if(Q==null){return N}if(b&&Q.filter===b){return Q.filter(P,O)}I(Q,function(T,R,S){if(P.call(O,T,R,S)){N.push(T)}});return N};M.reject=function(P,O,N){return M.filter(P,function(S,Q,R){return !O.call(N,S,Q,R)},N)};M.every=M.all=function(Q,P,O){P||(P=M.identity);var N=true;if(Q==null){return N}if(B&&Q.every===B){return Q.every(P,O)}I(Q,function(T,R,S){if(!(N=N&&P.call(O,T,R,S))){return D}});return !!N};var A=M.some=M.any=function(Q,P,O){P||(P=M.identity);var N=false;if(Q==null){return N}if(p&&Q.some===p){return Q.some(P,O)}I(Q,function(T,R,S){if(N||(N=P.call(O,T,R,S))){return D}});return !!N};M.contains=M.include=function(O,N){if(O==null){return false}if(n&&O.indexOf===n){return O.indexOf(N)!=-1}return A(O,function(P){return P===N})};M.invoke=function(P,Q){var N=o.call(arguments,2);var O=M.isFunction(Q);return M.map(P,function(R){return(O?Q:R[Q]).apply(R,N)})};M.pluck=function(O,N){return M.map(O,function(P){return P[N]})};M.where=function(O,N,P){if(M.isEmpty(N)){return P?void 0:[]}return M[P?"find":"filter"](O,function(R){for(var Q in N){if(N[Q]!==R[Q]){return false}}return true})};M.findWhere=function(O,N){return M.where(O,N,true)};M.max=function(Q,P,O){if(!P&&M.isArray(Q)&&Q[0]===+Q[0]&&Q.length<65535){return Math.max.apply(Math,Q)}if(!P&&M.isEmpty(Q)){return -Infinity}var N={computed:-Infinity,value:-Infinity};I(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S>N.computed&&(N={value:U,computed:S})});return N.value};M.min=function(Q,P,O){if(!P&&M.isArray(Q)&&Q[0]===+Q[0]&&Q.length<65535){return Math.min.apply(Math,Q)}if(!P&&M.isEmpty(Q)){return Infinity}var N={computed:Infinity,value:Infinity};I(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S<N.computed&&(N={value:U,computed:S})});return N.value};M.shuffle=function(Q){var P;var O=0;var N=[];I(Q,function(R){P=M.random(O++);N[O-1]=N[P];N[P]=R});return N};M.sample=function(O,P,N){if(arguments.length<2||N){return O[M.random(O.length-1)]}return M.shuffle(O).slice(0,Math.max(0,P))};var a=function(N){return M.isFunction(N)?N:function(O){return O[N]}};M.sortBy=function(Q,P,N){var O=a(P);return M.pluck(M.map(Q,function(T,R,S){return{value:T,index:R,criteria:O.call(N,T,R,S)}}).sort(function(U,T){var S=U.criteria;var R=T.criteria;if(S!==R){if(S>R||S===void 0){return 1}if(S<R||R===void 0){return -1}}return U.index-T.index}),"value")};var t=function(N){return function(S,R,P){var O={};var Q=R==null?M.identity:a(R);I(S,function(V,T){var U=Q.call(P,V,T,S);N(O,U,V)});return O}};M.groupBy=t(function(N,O,P){(M.has(N,O)?N[O]:(N[O]=[])).push(P)});M.indexBy=t(function(N,O,P){N[O]=P});M.countBy=t(function(N,O){M.has(N,O)?N[O]++:N[O]=1});M.sortedIndex=function(U,T,Q,P){Q=Q==null?M.identity:a(Q);var S=Q.call(P,T);var N=0,R=U.length;while(N<R){var O=(N+R)>>>1;Q.call(P,U[O])<S?N=O+1:R=O}return N};M.toArray=function(N){if(!N){return[]}if(M.isArray(N)){return o.call(N)}if(N.length===+N.length){return M.map(N,M.identity)}return M.values(N)};M.size=function(N){if(N==null){return 0}return(N.length===+N.length)?N.length:M.keys(N).length};M.first=M.head=M.take=function(P,O,N){if(P==null){return void 0}return(O==null)||N?P[0]:o.call(P,0,O)};M.initial=function(P,O,N){return o.call(P,0,P.length-((O==null)||N?1:O))};M.last=function(P,O,N){if(P==null){return void 0}if((O==null)||N){return P[P.length-1]}else{return o.call(P,Math.max(P.length-O,0))}};M.rest=M.tail=M.drop=function(P,O,N){return o.call(P,(O==null)||N?1:O)};M.compact=function(N){return M.filter(N,M.identity)};var x=function(O,P,N){if(P&&M.every(O,M.isArray)){return y.apply(N,O)}I(O,function(Q){if(M.isArray(Q)||M.isArguments(Q)){P?H.apply(N,Q):x(Q,P,N)}else{N.push(Q)}});return N};M.flatten=function(O,N){return x(O,N,[])};M.without=function(N){return M.difference(N,o.call(arguments,1))};M.uniq=M.unique=function(T,S,R,Q){if(M.isFunction(S)){Q=R;R=S;S=false}var O=R?M.map(T,R,Q):T;var P=[];var N=[];I(O,function(V,U){if(S?(!U||N[N.length-1]!==V):!M.contains(N,V)){N.push(V);P.push(T[U])}});return P};M.union=function(){return M.uniq(M.flatten(arguments,true))};M.intersection=function(O){var N=o.call(arguments,1);return M.filter(M.uniq(O),function(P){return M.every(N,function(Q){return M.indexOf(Q,P)>=0})})};M.difference=function(O){var N=y.apply(C,o.call(arguments,1));return M.filter(O,function(P){return !M.contains(N,P)})};M.zip=function(){var P=M.max(M.pluck(arguments,"length").concat(0));var O=new Array(P);for(var N=0;N<P;N++){O[N]=M.pluck(arguments,""+N)}return O};M.object=function(R,O){if(R==null){return{}}var N={};for(var P=0,Q=R.length;P<Q;P++){if(O){N[R[P]]=O[P]}else{N[R[P][0]]=R[P][1]}}return N};M.indexOf=function(R,P,Q){if(R==null){return -1}var N=0,O=R.length;if(Q){if(typeof Q=="number"){N=(Q<0?Math.max(0,O+Q):Q)}else{N=M.sortedIndex(R,P);return R[N]===P?N:-1}}if(n&&R.indexOf===n){return R.indexOf(P,Q)}for(;N<O;N++){if(R[N]===P){return N}}return -1};M.lastIndexOf=function(R,P,Q){if(R==null){return -1}var N=Q!=null;if(l&&R.lastIndexOf===l){return N?R.lastIndexOf(P,Q):R.lastIndexOf(P)}var O=(N?Q:R.length);while(O--){if(R[O]===P){return O}}return -1};M.range=function(S,P,R){if(arguments.length<=1){P=S||0;S=0}R=arguments[2]||1;var Q=Math.max(Math.ceil((P-S)/R),0);var N=0;var O=new Array(Q);while(N<Q){O[N++]=S;S+=R}return O};var G=function(){};M.bind=function(Q,O){var N,P;if(F&&Q.bind===F){return F.apply(Q,o.call(arguments,1))}if(!M.isFunction(Q)){throw new TypeError}N=o.call(arguments,2);return P=function(){if(!(this instanceof P)){return Q.apply(O,N.concat(o.call(arguments)))}G.prototype=Q.prototype;var S=new G;G.prototype=null;var R=Q.apply(S,N.concat(o.call(arguments)));if(Object(R)===R){return R}return S}};M.partial=function(O){var N=o.call(arguments,1);return function(){return O.apply(this,N.concat(o.call(arguments)))}};M.bindAll=function(O){var N=o.call(arguments,1);if(N.length===0){throw new Error("bindAll must be passed function names")}I(N,function(P){O[P]=M.bind(O[P],O)});return O};M.memoize=function(P,O){var N={};O||(O=M.identity);return function(){var Q=O.apply(this,arguments);return M.has(N,Q)?N[Q]:(N[Q]=P.apply(this,arguments))}};M.delay=function(O,P){var N=o.call(arguments,2);return setTimeout(function(){return O.apply(null,N)},P)};M.defer=function(N){return M.delay.apply(M,[N,1].concat(o.call(arguments,1)))};M.throttle=function(O,Q,U){var N,S,V;var T=null;var R=0;U||(U={});var P=function(){R=U.leading===false?0:new Date;T=null;V=O.apply(N,S)};return function(){var W=new Date;if(!R&&U.leading===false){R=W}var X=Q-(W-R);N=this;S=arguments;if(X<=0){clearTimeout(T);T=null;R=W;V=O.apply(N,S)}else{if(!T&&U.trailing!==false){T=setTimeout(P,X)}}return V}};M.debounce=function(R,U,O){var T,P,Q,S,N;return function(){Q=this;P=arguments;S=new Date();var W=function(){var X=(new Date())-S;if(X<U){T=setTimeout(W,U-X)}else{T=null;if(!O){N=R.apply(Q,P)}}};var V=O&&!T;if(!T){T=setTimeout(W,U)}if(V){N=R.apply(Q,P)}return N}};M.once=function(P){var N=false,O;return function(){if(N){return O}N=true;O=P.apply(this,arguments);P=null;return O}};M.wrap=function(N,O){return function(){var P=[N];H.apply(P,arguments);return O.apply(this,P)}};M.compose=function(){var N=arguments;return function(){var O=arguments;for(var P=N.length-1;P>=0;P--){O=[N[P].apply(this,O)]}return O[0]}};M.after=function(O,N){return function(){if(--O<1){return N.apply(this,arguments)}}};M.keys=e||function(P){if(P!==Object(P)){throw new TypeError("Invalid object")}var O=[];for(var N in P){if(M.has(P,N)){O.push(N)}}return O};M.values=function(R){var Q=M.keys(R);var P=Q.length;var N=new Array(P);for(var O=0;O<P;O++){N[O]=R[Q[O]]}return N};M.pairs=function(R){var P=M.keys(R);var O=P.length;var Q=new Array(O);for(var N=0;N<O;N++){Q[N]=[P[N],R[P[N]]]}return Q};M.invert=function(R){var N={};var Q=M.keys(R);for(var O=0,P=Q.length;O<P;O++){N[R[Q[O]]]=Q[O]}return N};M.functions=M.methods=function(P){var O=[];for(var N in P){if(M.isFunction(P[N])){O.push(N)}}return O.sort()};M.extend=function(N){I(o.call(arguments,1),function(O){if(O){for(var P in O){N[P]=O[P]}}});return N};M.pick=function(O){var P={};var N=y.apply(C,o.call(arguments,1));I(N,function(Q){if(Q in O){P[Q]=O[Q]}});return P};M.omit=function(P){var Q={};var O=y.apply(C,o.call(arguments,1));for(var N in P){if(!M.contains(O,N)){Q[N]=P[N]}}return Q};M.defaults=function(N){I(o.call(arguments,1),function(O){if(O){for(var P in O){if(N[P]===void 0){N[P]=O[P]}}}});return N};M.clone=function(N){if(!M.isObject(N)){return N}return M.isArray(N)?N.slice():M.extend({},N)};M.tap=function(O,N){N(O);return O};var J=function(U,T,O,P){if(U===T){return U!==0||1/U==1/T}if(U==null||T==null){return U===T}if(U instanceof M){U=U._wrapped}if(T instanceof M){T=T._wrapped}var R=d.call(U);if(R!=d.call(T)){return false}switch(R){case"[object String]":return U==String(T);case"[object Number]":return U!=+U?T!=+T:(U==0?1/U==1/T:U==+T);case"[object Date]":case"[object Boolean]":return +U==+T;case"[object RegExp]":return U.source==T.source&&U.global==T.global&&U.multiline==T.multiline&&U.ignoreCase==T.ignoreCase}if(typeof U!="object"||typeof T!="object"){return false}var N=O.length;while(N--){if(O[N]==U){return P[N]==T}}var S=U.constructor,Q=T.constructor;if(S!==Q&&!(M.isFunction(S)&&(S instanceof S)&&M.isFunction(Q)&&(Q instanceof Q))){return false}O.push(U);P.push(T);var X=0,W=true;if(R=="[object Array]"){X=U.length;W=X==T.length;if(W){while(X--){if(!(W=J(U[X],T[X],O,P))){break}}}}else{for(var V in U){if(M.has(U,V)){X++;if(!(W=M.has(T,V)&&J(U[V],T[V],O,P))){break}}}if(W){for(V in T){if(M.has(T,V)&&!(X--)){break}}W=!X}}O.pop();P.pop();return W};M.isEqual=function(O,N){return J(O,N,[],[])};M.isEmpty=function(O){if(O==null){return true}if(M.isArray(O)||M.isString(O)){return O.length===0}for(var N in O){if(M.has(O,N)){return false}}return true};M.isElement=function(N){return !!(N&&N.nodeType===1)};M.isArray=u||function(N){return d.call(N)=="[object Array]"};M.isObject=function(N){return N===Object(N)};I(["Arguments","Function","String","Number","Date","RegExp"],function(N){M["is"+N]=function(O){return d.call(O)=="[object "+N+"]"}});if(!M.isArguments(arguments)){M.isArguments=function(N){return !!(N&&M.has(N,"callee"))}}if(typeof(/./)!=="function"){M.isFunction=function(N){return typeof N==="function"}}M.isFinite=function(N){return isFinite(N)&&!isNaN(parseFloat(N))};M.isNaN=function(N){return M.isNumber(N)&&N!=+N};M.isBoolean=function(N){return N===true||N===false||d.call(N)=="[object Boolean]"};M.isNull=function(N){return N===null};M.isUndefined=function(N){return N===void 0};M.has=function(O,N){return j.call(O,N)};M.noConflict=function(){w._=k;return this};M.identity=function(N){return N};M.times=function(R,Q,P){var N=Array(Math.max(0,R));for(var O=0;O<R;O++){N[O]=Q.call(P,O)}return N};M.random=function(O,N){if(N==null){N=O;O=0}return O+Math.floor(Math.random()*(N-O+1))};var m={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};m.unescape=M.invert(m.escape);var K={escape:new RegExp("["+M.keys(m.escape).join("")+"]","g"),unescape:new RegExp("("+M.keys(m.unescape).join("|")+")","g")};M.each(["escape","unescape"],function(N){M[N]=function(O){if(O==null){return""}return(""+O).replace(K[N],function(P){return m[N][P]})}});M.result=function(N,P){if(N==null){return void 0}var O=N[P];return M.isFunction(O)?O.call(N):O};M.mixin=function(N){I(M.functions(N),function(O){var P=M[O]=N[O];M.prototype[O]=function(){var Q=[this._wrapped];H.apply(Q,arguments);return s.call(this,P.apply(M,Q))}})};var z=0;M.uniqueId=function(N){var O=++z+"";return N?N+O:O};M.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var v=/(.)^/;var h={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var i=/\\|'|\r|\n|\t|\u2028|\u2029/g;M.template=function(V,Q,P){var O;P=M.defaults({},P,M.templateSettings);var R=new RegExp([(P.escape||v).source,(P.interpolate||v).source,(P.evaluate||v).source].join("|")+"|$","g");var S=0;var N="__p+='";V.replace(R,function(X,Y,W,aa,Z){N+=V.slice(S,Z).replace(i,function(ab){return"\\"+h[ab]});if(Y){N+="'+\n((__t=("+Y+"))==null?'':_.escape(__t))+\n'"}if(W){N+="'+\n((__t=("+W+"))==null?'':__t)+\n'"}if(aa){N+="';\n"+aa+"\n__p+='"}S=Z+X.length;return X});N+="';\n";if(!P.variable){N="with(obj||{}){\n"+N+"}\n"}N="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+N+"return __p;\n";try{O=new Function(P.variable||"obj","_",N)}catch(T){T.source=N;throw T}if(Q){return O(Q,M)}var U=function(W){return O.call(this,W,M)};U.source="function("+(P.variable||"obj")+"){\n"+N+"}";return U};M.chain=function(N){return M(N).chain()};var s=function(N){return this._chain?M(N).chain():N};M.mixin(M);I(["pop","push","reverse","shift","sort","splice","unshift"],function(N){var O=C[N];M.prototype[N]=function(){var P=this._wrapped;O.apply(P,arguments);if((N=="shift"||N=="splice")&&P.length===0){delete P[0]}return s.call(this,P)}});I(["concat","join","slice"],function(N){var O=C[N];M.prototype[N]=function(){return s.call(this,O.apply(this._wrapped,arguments))}});M.extend(M.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(){var v=this;var C=v.Backbone;var g=[];var E=g.push;var o=g.slice;var u=g.splice;var A;if(typeof exports!=="undefined"){A=exports}else{A=v.Backbone={}}A.VERSION="1.1.0";var M=v._;if(!M&&(typeof require!=="undefined")){M=require("underscore")}A.$=v.jQuery||v.Zepto||v.ender||v.$;A.noConflict=function(){v.Backbone=C;return this};A.emulateHTTP=false;A.emulateJSON=false;var K=A.Events={on:function(N,Q,P){if(!y(this,"on",N,[Q,P])||!Q){return this}this._events||(this._events={});var O=this._events[N]||(this._events[N]=[]);O.push({callback:Q,context:P,ctx:P||this});return this},once:function(O,R,P){if(!y(this,"once",O,[R,P])||!R){return this}var N=this;var Q=M.once(function(){N.off(O,Q);R.apply(this,arguments)});Q._callback=R;return this.on(O,Q,P)},off:function(N,W,O){var U,V,X,T,S,P,R,Q;if(!this._events||!y(this,"off",N,[W,O])){return this}if(!N&&!W&&!O){this._events={};return this}T=N?[N]:M.keys(this._events);for(S=0,P=T.length;S<P;S++){N=T[S];if(X=this._events[N]){this._events[N]=U=[];if(W||O){for(R=0,Q=X.length;R<Q;R++){V=X[R];if((W&&W!==V.callback&&W!==V.callback._callback)||(O&&O!==V.context)){U.push(V)}}}if(!U.length){delete this._events[N]}}}return this},trigger:function(P){if(!this._events){return this}var O=o.call(arguments,1);if(!y(this,"trigger",P,O)){return this}var Q=this._events[P];var N=this._events.all;if(Q){b(Q,O)}if(N){b(N,arguments)}return this},stopListening:function(Q,O,S){var P=this._listeningTo;if(!P){return this}var N=!O&&!S;if(!S&&typeof O==="object"){S=this}if(Q){(P={})[Q._listenId]=Q}for(var R in P){Q=P[R];Q.off(O,S,this);if(N||M.isEmpty(Q._events)){delete this._listeningTo[R]}}return this}};var x=/\s+/;var y=function(U,S,O,R){if(!O){return true}if(typeof O==="object"){for(var Q in O){U[S].apply(U,[Q,O[Q]].concat(R))}return false}if(x.test(O)){var T=O.split(x);for(var P=0,N=T.length;P<N;P++){U[S].apply(U,[T[P]].concat(R))}return false}return true};var b=function(S,Q){var T,R=-1,P=S.length,O=Q[0],N=Q[1],U=Q[2];switch(Q.length){case 0:while(++R<P){(T=S[R]).callback.call(T.ctx)}return;case 1:while(++R<P){(T=S[R]).callback.call(T.ctx,O)}return;case 2:while(++R<P){(T=S[R]).callback.call(T.ctx,O,N)}return;case 3:while(++R<P){(T=S[R]).callback.call(T.ctx,O,N,U)}return;default:while(++R<P){(T=S[R]).callback.apply(T.ctx,Q)}}};var D={listenTo:"on",listenToOnce:"once"};M.each(D,function(N,O){K[O]=function(R,P,T){var Q=this._listeningTo||(this._listeningTo={});var S=R._listenId||(R._listenId=M.uniqueId("l"));Q[S]=R;if(!T&&typeof P==="object"){T=this}R[N](P,T,this);return this}});K.bind=K.on;K.unbind=K.off;M.extend(A,K);var F=A.Model=function(N,P){var O=N||{};P||(P={});this.cid=M.uniqueId("c");this.attributes={};if(P.collection){this.collection=P.collection}if(P.parse){O=this.parse(O,P)||{}}O=M.defaults({},O,M.result(this,"defaults"));this.set(O,P);this.changed={};this.initialize.apply(this,arguments)};M.extend(F.prototype,K,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(N){return M.clone(this.attributes)},sync:function(){return A.sync.apply(this,arguments)},get:function(N){return this.attributes[N]},escape:function(N){return M.escape(this.get(N))},has:function(N){return this.get(N)!=null},set:function(V,N,Z){var T,W,X,U,S,Y,P,R;if(V==null){return this}if(typeof V==="object"){W=V;Z=N}else{(W={})[V]=N}Z||(Z={});if(!this._validate(W,Z)){return false}X=Z.unset;S=Z.silent;U=[];Y=this._changing;this._changing=true;if(!Y){this._previousAttributes=M.clone(this.attributes);this.changed={}}R=this.attributes,P=this._previousAttributes;if(this.idAttribute in W){this.id=W[this.idAttribute]}for(T in W){N=W[T];if(!M.isEqual(R[T],N)){U.push(T)}if(!M.isEqual(P[T],N)){this.changed[T]=N}else{delete this.changed[T]}X?delete R[T]:R[T]=N}if(!S){if(U.length){this._pending=true}for(var Q=0,O=U.length;Q<O;Q++){this.trigger("change:"+U[Q],this,R[U[Q]],Z)}}if(Y){return this}if(!S){while(this._pending){this._pending=false;this.trigger("change",this,Z)}}this._pending=false;this._changing=false;return this},unset:function(N,O){return this.set(N,void 0,M.extend({},O,{unset:true}))},clear:function(O){var N={};for(var P in this.attributes){N[P]=void 0}return this.set(N,M.extend({},O,{unset:true}))},hasChanged:function(N){if(N==null){return !M.isEmpty(this.changed)}return M.has(this.changed,N)},changedAttributes:function(P){if(!P){return this.hasChanged()?M.clone(this.changed):false}var R,Q=false;var O=this._changing?this._previousAttributes:this.attributes;for(var N in P){if(M.isEqual(O[N],(R=P[N]))){continue}(Q||(Q={}))[N]=R}return Q},previous:function(N){if(N==null||!this._previousAttributes){return null}return this._previousAttributes[N]},previousAttributes:function(){return M.clone(this._previousAttributes)},fetch:function(O){O=O?M.clone(O):{};if(O.parse===void 0){O.parse=true}var N=this;var P=O.success;O.success=function(Q){if(!N.set(N.parse(Q,O),O)){return false}if(P){P(N,Q,O)}N.trigger("sync",N,Q,O)};I(this,O);return this.sync("read",this,O)},save:function(R,O,V){var S,N,U,P=this.attributes;if(R==null||typeof R==="object"){S=R;V=O}else{(S={})[R]=O}V=M.extend({validate:true},V);if(S&&!V.wait){if(!this.set(S,V)){return false}}else{if(!this._validate(S,V)){return false}}if(S&&V.wait){this.attributes=M.extend({},P,S)}if(V.parse===void 0){V.parse=true}var Q=this;var T=V.success;V.success=function(X){Q.attributes=P;var W=Q.parse(X,V);if(V.wait){W=M.extend(S||{},W)}if(M.isObject(W)&&!Q.set(W,V)){return false}if(T){T(Q,X,V)}Q.trigger("sync",Q,X,V)};I(this,V);N=this.isNew()?"create":(V.patch?"patch":"update");if(N==="patch"){V.attrs=S}U=this.sync(N,this,V);if(S&&V.wait){this.attributes=P}return U},destroy:function(O){O=O?M.clone(O):{};var N=this;var R=O.success;var P=function(){N.trigger("destroy",N,N.collection,O)};O.success=function(S){if(O.wait||N.isNew()){P()}if(R){R(N,S,O)}if(!N.isNew()){N.trigger("sync",N,S,O)}};if(this.isNew()){O.success();return false}I(this,O);var Q=this.sync("delete",this,O);if(!O.wait){P()}return Q},url:function(){var N=M.result(this,"urlRoot")||M.result(this.collection,"url")||s();if(this.isNew()){return N}return N+(N.charAt(N.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(O,N){return O},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(N){return this._validate({},M.extend(N||{},{validate:true}))},_validate:function(P,O){if(!O.validate||!this.validate){return true}P=M.extend({},this.attributes,P);var N=this.validationError=this.validate(P,O)||null;if(!N){return true}this.trigger("invalid",this,N,M.extend(O,{validationError:N}));return false}});var a=["keys","values","pairs","invert","pick","omit"];M.each(a,function(N){F.prototype[N]=function(){var O=o.call(arguments);O.unshift(this.attributes);return M[N].apply(M,O)}});var c=A.Collection=function(O,N){N||(N={});if(N.model){this.model=N.model}if(N.comparator!==void 0){this.comparator=N.comparator}this._reset();this.initialize.apply(this,arguments);if(O){this.reset(O,M.extend({silent:true},N))}};var p={add:true,remove:true,merge:true};var L={add:true,remove:false};M.extend(c.prototype,K,{model:F,initialize:function(){},toJSON:function(N){return this.map(function(O){return O.toJSON(N)})},sync:function(){return A.sync.apply(this,arguments)},add:function(O,N){return this.set(O,M.extend({merge:false},N,L))},remove:function(T,Q){var S=!M.isArray(T);T=S?[T]:M.clone(T);Q||(Q={});var R,N,P,O;for(R=0,N=T.length;R<N;R++){O=T[R]=this.get(T[R]);if(!O){continue}delete this._byId[O.id];delete this._byId[O.cid];P=this.indexOf(O);this.models.splice(P,1);this.length--;if(!Q.silent){Q.index=P;O.trigger("remove",O,this,Q)}this._removeReference(O)}return S?T[0]:T},set:function(ag,O){O=M.defaults({},O,p);if(O.parse){ag=this.parse(ag,O)}var R=!M.isArray(ag);ag=R?(ag?[ag]:[]):M.clone(ag);var ac,aa,W,P,Y,V,af;var T=O.at;var ae=this.model;var N=this.comparator&&(T==null)&&O.sort!==false;var ad=M.isString(this.comparator)?this.comparator:null;var ai=[],Z=[],X={};var U=O.add,Q=O.merge,ah=O.remove;var ab=!N&&U&&ah?[]:false;for(ac=0,aa=ag.length;ac<aa;ac++){Y=ag[ac];if(Y instanceof F){W=P=Y}else{W=Y[ae.prototype.idAttribute]}if(V=this.get(W)){if(ah){X[V.cid]=true}if(Q){Y=Y===P?P.attributes:Y;if(O.parse){Y=V.parse(Y,O)}V.set(Y,O);if(N&&!af&&V.hasChanged(ad)){af=true}}ag[ac]=V}else{if(U){P=ag[ac]=this._prepareModel(Y,O);if(!P){continue}ai.push(P);P.on("all",this._onModelEvent,this);this._byId[P.cid]=P;if(P.id!=null){this._byId[P.id]=P}}}if(ab){ab.push(V||P)}}if(ah){for(ac=0,aa=this.length;ac<aa;++ac){if(!X[(P=this.models[ac]).cid]){Z.push(P)}}if(Z.length){this.remove(Z,O)}}if(ai.length||(ab&&ab.length)){if(N){af=true}this.length+=ai.length;if(T!=null){for(ac=0,aa=ai.length;ac<aa;ac++){this.models.splice(T+ac,0,ai[ac])}}else{if(ab){this.models.length=0}var S=ab||ai;for(ac=0,aa=S.length;ac<aa;ac++){this.models.push(S[ac])}}}if(af){this.sort({silent:true})}if(!O.silent){for(ac=0,aa=ai.length;ac<aa;ac++){(P=ai[ac]).trigger("add",P,this,O)}if(af||(ab&&ab.length)){this.trigger("sort",this,O)}}return R?ag[0]:ag},reset:function(Q,O){O||(O={});for(var P=0,N=this.models.length;P<N;P++){this._removeReference(this.models[P])}O.previousModels=this.models;this._reset();Q=this.add(Q,M.extend({silent:true},O));if(!O.silent){this.trigger("reset",this,O)}return Q},push:function(O,N){return this.add(O,M.extend({at:this.length},N))},pop:function(O){var N=this.at(this.length-1);this.remove(N,O);return N},unshift:function(O,N){return this.add(O,M.extend({at:0},N))},shift:function(O){var N=this.at(0);this.remove(N,O);return N},slice:function(){return o.apply(this.models,arguments)},get:function(N){if(N==null){return void 0}return this._byId[N.id]||this._byId[N.cid]||this._byId[N]},at:function(N){return this.models[N]},where:function(N,O){if(M.isEmpty(N)){return O?void 0:[]}return this[O?"find":"filter"](function(P){for(var Q in N){if(N[Q]!==P.get(Q)){return false}}return true})},findWhere:function(N){return this.where(N,true)},sort:function(N){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}N||(N={});if(M.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(M.bind(this.comparator,this))}if(!N.silent){this.trigger("sort",this,N)}return this},pluck:function(N){return M.invoke(this.models,"get",N)},fetch:function(N){N=N?M.clone(N):{};if(N.parse===void 0){N.parse=true}var P=N.success;var O=this;N.success=function(Q){var R=N.reset?"reset":"set";O[R](Q,N);if(P){P(O,Q,N)}O.trigger("sync",O,Q,N)};I(this,N);return this.sync("read",this,N)},create:function(O,N){N=N?M.clone(N):{};if(!(O=this._prepareModel(O,N))){return false}if(!N.wait){this.add(O,N)}var Q=this;var P=N.success;N.success=function(S,T,R){if(R.wait){Q.add(S,R)}if(P){P(S,T,R)}};O.save(null,N);return O},parse:function(O,N){return O},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(P,O){if(P instanceof F){if(!P.collection){P.collection=this}return P}O=O?M.clone(O):{};O.collection=this;var N=new this.model(P,O);if(!N.validationError){return N}this.trigger("invalid",this,N.validationError,O);return false},_removeReference:function(N){if(this===N.collection){delete N.collection}N.off("all",this._onModelEvent,this)},_onModelEvent:function(P,O,Q,N){if((P==="add"||P==="remove")&&Q!==this){return}if(P==="destroy"){this.remove(O,N)}if(O&&P==="change:"+O.idAttribute){delete this._byId[O.previous(O.idAttribute)];if(O.id!=null){this._byId[O.id]=O}}this.trigger.apply(this,arguments)}});var z=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];M.each(z,function(N){c.prototype[N]=function(){var O=o.call(arguments);O.unshift(this.models);return M[N].apply(M,O)}});var l=["groupBy","countBy","sortBy"];M.each(l,function(N){c.prototype[N]=function(Q,O){var P=M.isFunction(Q)?Q:function(R){return R.get(Q)};return M[N](this.models,P,O)}});var H=A.View=function(N){this.cid=M.uniqueId("view");N||(N={});M.extend(this,M.pick(N,e));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var w=/^(\S+)\s*(.*)$/;var e=["model","collection","el","id","attributes","className","tagName","events"];M.extend(H.prototype,K,{tagName:"div",$:function(N){return this.$el.find(N)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(N,O){if(this.$el){this.undelegateEvents()}this.$el=N instanceof A.$?N:A.$(N);this.el=this.$el[0];if(O!==false){this.delegateEvents()}return this},delegateEvents:function(R){if(!(R||(R=M.result(this,"events")))){return this}this.undelegateEvents();for(var Q in R){var S=R[Q];if(!M.isFunction(S)){S=this[R[Q]]}if(!S){continue}var P=Q.match(w);var O=P[1],N=P[2];S=M.bind(S,this);O+=".delegateEvents"+this.cid;if(N===""){this.$el.on(O,S)}else{this.$el.on(O,N,S)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var N=M.extend({},M.result(this,"attributes"));if(this.id){N.id=M.result(this,"id")}if(this.className){N["class"]=M.result(this,"className")}var O=A.$("<"+M.result(this,"tagName")+">").attr(N);this.setElement(O,false)}else{this.setElement(M.result(this,"el"),false)}}});A.sync=function(T,O,N){var Q=k[T];M.defaults(N||(N={}),{emulateHTTP:A.emulateHTTP,emulateJSON:A.emulateJSON});var S={type:Q,dataType:"json"};if(!N.url){S.url=M.result(O,"url")||s()}if(N.data==null&&O&&(T==="create"||T==="update"||T==="patch")){S.contentType="application/json";S.data=JSON.stringify(N.attrs||O.toJSON(N))}if(N.emulateJSON){S.contentType="application/x-www-form-urlencoded";S.data=S.data?{model:S.data}:{}}if(N.emulateHTTP&&(Q==="PUT"||Q==="DELETE"||Q==="PATCH")){S.type="POST";if(N.emulateJSON){S.data._method=Q}var P=N.beforeSend;N.beforeSend=function(U){U.setRequestHeader("X-HTTP-Method-Override",Q);if(P){return P.apply(this,arguments)}}}if(S.type!=="GET"&&!N.emulateJSON){S.processData=false}if(S.type==="PATCH"&&j){S.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var R=N.xhr=A.ajax(M.extend(S,N));O.trigger("request",O,R,N);return R};var j=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};A.ajax=function(){return A.$.ajax.apply(A.$,arguments)};var q=A.Router=function(N){N||(N={});if(N.routes){this.routes=N.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var r=/\((.*?)\)/g;var t=/(\(\?)?:\w+/g;var d=/\*\w+/g;var h=/[\-{}\[\]+?.,\\\^$|#\s]/g;M.extend(q.prototype,K,{initialize:function(){},route:function(O,P,Q){if(!M.isRegExp(O)){O=this._routeToRegExp(O)}if(M.isFunction(P)){Q=P;P=""}if(!Q){Q=this[P]}var N=this;A.history.route(O,function(S){var R=N._extractParameters(O,S);Q&&Q.apply(N,R);N.trigger.apply(N,["route:"+P].concat(R));N.trigger("route",P,R);A.history.trigger("route",N,P,R)});return this},navigate:function(O,N){A.history.navigate(O,N);return this},_bindRoutes:function(){if(!this.routes){return}this.routes=M.result(this,"routes");var O,N=M.keys(this.routes);while((O=N.pop())!=null){this.route(O,this.routes[O])}},_routeToRegExp:function(N){N=N.replace(h,"\\$&").replace(r,"(?:$1)?").replace(t,function(P,O){return O?P:"([^/]+)"}).replace(d,"(.*?)");return new RegExp("^"+N+"$")},_extractParameters:function(N,O){var P=N.exec(O).slice(1);return M.map(P,function(Q){return Q?decodeURIComponent(Q):null})}});var i=A.History=function(){this.handlers=[];M.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var B=/^[#\/]|\s+$/g;var f=/^\/+|\/+$/g;var J=/msie [\w.]+/;var n=/\/$/;var G=/[?#].*$/;i.started=false;M.extend(i.prototype,K,{interval:50,getHash:function(O){var N=(O||this).location.href.match(/#(.*)$/);return N?N[1]:""},getFragment:function(P,O){if(P==null){if(this._hasPushState||!this._wantsHashChange||O){P=this.location.pathname;var N=this.root.replace(n,"");if(!P.indexOf(N)){P=P.slice(N.length)}}else{P=this.getHash()}}return P.replace(B,"")},start:function(P){if(i.started){throw new Error("Backbone.history has already been started")}i.started=true;this.options=M.extend({root:"/"},this.options,P);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var O=this.getFragment();var N=document.documentMode;var R=(J.exec(navigator.userAgent.toLowerCase())&&(!N||N<=7));this.root=("/"+this.root+"/").replace(f,"/");if(R&&this._wantsHashChange){this.iframe=A.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(O)}if(this._hasPushState){A.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&("onhashchange" in window)&&!R){A.$(window).on("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=O;var S=this.location;var Q=S.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!Q){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else{if(this._hasPushState&&Q&&S.hash){this.fragment=this.getHash().replace(B,"");this.history.replaceState({},document.title,this.root+this.fragment+S.search)}}}if(!this.options.silent){return this.loadUrl()}},stop:function(){A.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);i.started=false},route:function(N,O){this.handlers.unshift({route:N,callback:O})},checkUrl:function(O){var N=this.getFragment();if(N===this.fragment&&this.iframe){N=this.getFragment(this.getHash(this.iframe))}if(N===this.fragment){return false}if(this.iframe){this.navigate(N)}this.loadUrl()},loadUrl:function(N){N=this.fragment=this.getFragment(N);return M.any(this.handlers,function(O){if(O.route.test(N)){O.callback(N);return true}})},navigate:function(P,O){if(!i.started){return false}if(!O||O===true){O={trigger:!!O}}var N=this.root+(P=this.getFragment(P||""));P=P.replace(G,"");if(this.fragment===P){return}this.fragment=P;if(P===""&&N!=="/"){N=N.slice(0,-1)}if(this._hasPushState){this.history[O.replace?"replaceState":"pushState"]({},document.title,N)}else{if(this._wantsHashChange){this._updateHash(this.location,P,O.replace);if(this.iframe&&(P!==this.getFragment(this.getHash(this.iframe)))){if(!O.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,P,O.replace)}}else{return this.location.assign(N)}}if(O.trigger){return this.loadUrl(P)}},_updateHash:function(N,P,Q){if(Q){var O=N.href.replace(/(javascript:|#).*$/,"");N.replace(O+"#"+P)}else{N.hash="#"+P}}});A.history=new i;var m=function(N,P){var O=this;var R;if(N&&M.has(N,"constructor")){R=N.constructor}else{R=function(){return O.apply(this,arguments)}}M.extend(R,O,P);var Q=function(){this.constructor=R};Q.prototype=O.prototype;R.prototype=new Q;if(N){M.extend(R.prototype,N)}R.__super__=O.prototype;return R};F.extend=c.extend=q.extend=H.extend=i.extend=m;var s=function(){throw new Error('A "url" property or function must be specified')};var I=function(P,O){var N=O.error;O.error=function(Q){if(N){N(P,Q,O)}P.trigger("error",P,Q,O)}}}).call(this);app.template_cache={templates:{},get:function(a){return this.templates[a]},set:function(b,a){this.templates[b]=a},remove:function(a){delete this.templates[a]},path_to_id:function(a){return a.replace("/","-")},load:function(d,e){var c=this;if(d){var b=[];_.each(d,function(f){if(!app.template_cache.get(f)){b.push(f)}});var a=0;if(b.length>0){_.each(b,function(g,f){$.get(SITE_URL+"app/partials/"+g,function(h){a++;app.template_cache.set(g,h);if(a>=b.length){e()}})})}else{e()}}}};(function(a){a.fn.serializeObject=function(){var b=this,d={},c={},f={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/};this.build=function(j,h,i){j[h]=i;return j};this.push_counter=function(h){if(c[h]===undefined){c[h]=0}return c[h]++};var e=a(this).serializeArray();var g=a.map(a(this).find('input[type="checkbox"]:not(:checked)'),function(h){return{name:h.name,value:0}});e=e.concat(g);a.each(e,function(){if(!f.validate.test(this.name)){return}var h,i=this.name.match(f.key),l=this.value,j=this.name;while((h=i.pop())!==undefined){j=j.replace(new RegExp("\\["+h+"\\]$"),"");if(h.match(f.push)){l=b.build([],b.push_counter(j),l)}else{if(h.match(f.fixed)){l=b.build([],h,l)}else{if(h.match(f.named)){l=b.build({},h,l)}}}}d=a.extend(true,d,l)});return d}})(jQuery);var BaseRouter=Backbone.Router.extend({container:"#backbone-container",alert_container:".alert-container",template_cache:{},start:function(a,b){if(!a){a=""}if(!Modernizr.history){Backbone.history.start({hashChange:true,root:a});if(b){Backbone.history.loadUrl(b)}}else{Backbone.history.start({pushState:true,root:a})}},_renderViewComplex:function(a,b){app.template_cache.load([a.template_name],function(){a.render();if(b){b()}})},_renderView:function(b,a,c){if(!a){a=this.container}app.template_cache.load([b.template_name],function(){$(a).empty().show();b.render().$el.appendTo(a);if(c){c()}})},_renderCollectionView:function(b,c,a,d){if(!a){a=this.container}app.template_cache.load([b.template_name],function(){$(a).empty();b.render(c).$el.appendTo(a);if(d){d()}})}});app.baseRouter=new BaseRouter;BaseListCollection=Backbone.Collection.extend({initialize:function(a){if(a){this.view=a.view;this.options=a}}});BaseModel=Backbone.Model.extend({idAttribute:"uuid",initialize:function(a){if(a&&a.urlRoot){this.urlRoot=a.urlRoot}Backbone.Model.prototype.initialize.call(this,a)}});BaseView=Backbone.View.extend({template_name:"",alert_container:".alert-container",child_views:[],template:function(a){return _.template(app.template_cache.get(this.template_name),a)},initialize:function(a){this.options=a},render:function(){var a=this.options?this.options:{};if(this.model){a=this.model.toJSON()}this.$el.html(this.template(a));return this},save:function(e,f,g,c){if(!c||c.length<1){c=this.$el}if(c.find("form").valid()){var b=c.find("form").serializeObject();var d=this;var a=c.find(".submit-container button.submit");a.button("loading");c.find(".submit-container .alert").hide();if(!f){f=this.model}f.save(b,{success:function(j,h,i){if(h&&h.message){var k="<strong>Success: </strong> "+h.message;app.success_message(k,$("#main-alert-container"));var l=c.find(".submit-container .alert-success");l.html(k).show();if(h.data&&h.data.uuid){f.set("uuid",h.data.uuid)}}a.button("reset");if(g){g(h)}d.trigger("save_complete");d.save_return()},error:function(i,l,h){var k=c.find(".submit-container .alert-danger");var j="";if(l.responseJSON&&l.responseJSON.message){j=l.responseJSON.message}else{j="<strong>Error: </strong> There was an error with your submission.  Please try again"}k.html(j).show();a.button("reset")}})}return false},cancel:function(a){if(this.return_url){app.baseRouter.navigate(this.return_url,true)}return false},save_return:function(){if(this.return_url){app.baseRouter.navigate(this.return_url,true)}return false},close:function(){this.remove();this.unbind();if(this.child_views.length>0){_.each(this.child_views,function(a){if(a.close){a.close()}})}}});(function(e,c,f){var a=c.templateSettings;c.templateSettings={interpolate:/\{\{(.+?)\}\}/g,evaluate:/<%([\s\S]+?)%>/g};var d=c.template('    <div class="modal-dialog {{modalClass}}">        <div class="modal-content">            <% if (title) { %>                  <div class="modal-header">                        <% if (allowCancel) { %>                          <a class="close">&times;</a>                        <% } %>                        <h3>{{title}}</h3>                  </div>            <% } %>            <div class="modal-body">{{content}}</div>            <div class="modal-footer">                  <% if (allowCancel) { %>                        <% if (cancelText) { %>                            <a href="#" class="btn cancel">{{cancelText}}</a>                        <% } %>                  <% } %>                  <% if(allowOk) { %>                  <a href="#" class="btn ok btn-primary">{{okText}}</a>                  <% } %>            </div>        </div>    </div>  ');c.templateSettings=a;var b=f.View.extend({className:"modal",events:{"click .close":function(g){g.preventDefault();this.trigger("cancel");if(this.options.content&&this.options.content.trigger){this.options.content.trigger("cancel",this)}},"click .cancel":function(g){g.preventDefault();this.trigger("cancel");if(this.options.content&&this.options.content.trigger){this.options.content.trigger("cancel",this)}},"click .ok":function(g){g.preventDefault();this.trigger("ok");if(this.options.content&&this.options.content.trigger){this.options.content.trigger("ok",this)}if(this.options.okCloses){this.close()}}},initialize:function(g){this.options=c.extend({title:null,okText:"OK",focusOk:true,allowOk:true,okCloses:true,cancelText:"Cancel",allowCancel:true,escape:true,animate:false,modalClass:"",template:d},g)},render:function(){var i=this.$el,h=this.options,j=h.content;i.html(h.template(h));var g=this.$content=i.find(".modal-body");if(j.$el){j.render();i.find(".modal-body").html(j.$el)}if(h.animate){i.addClass("fade")}this.isRendered=true;return this},open:function(h){if(!this.isRendered){this.render()}var j=this,m=this.$el;m.modal(c.extend({keyboard:this.options.allowCancel,backdrop:this.options.allowCancel?true:"static"},this.options.modalOptions));m.one("shown",function(){if(j.options.focusOk){m.find(".btn.ok").focus()}if(j.options.content&&j.options.content.trigger){j.options.content.trigger("shown",j)}j.trigger("shown")});var l=b.count,g=e(".modal-backdrop:eq("+l+")"),k=parseInt(g.css("z-index"),10),i=parseInt(g.css("z-index"),10);g.css("z-index",k+l);this.$el.css("z-index",i+l);if(this.options.allowCancel){g.one("click",function(){if(j.options.content&&j.options.content.trigger){j.options.content.trigger("cancel",j)}j.trigger("cancel")});e(document).one("keyup.dismiss.modal",function(n){n.which==27&&j.trigger("cancel");if(j.options.content&&j.options.content.trigger){n.which==27&&j.options.content.trigger("shown",j)}})}this.on("cancel",function(){j.close()});b.count++;if(h){j.on("ok",h)}return this},close:function(){var g=this,h=this.$el;if(this._preventClose){this._preventClose=false;return}h.one("hidden",function i(j){if(j.target!==j.currentTarget){return h.one("hidden",i)}g.remove();if(g.options.content&&g.options.content.trigger){g.options.content.trigger("hidden",g)}g.trigger("hidden")});h.modal("hide");b.count--},preventClose:function(){this._preventClose=true}},{count:0});if(typeof require=="function"&&typeof module!=="undefined"&&exports){module.exports=b}if(typeof define==="function"&&define.amd){return define(function(){f.BootstrapModal=b})}else{f.BootstrapModal=b}})(jQuery,_,Backbone);BaseFormView=BaseView.extend({render:function(){BaseView.prototype.render.call(this);var a=this;if(a.model){this.$el.find("select").each(function(){var b=a.model.get($(this).attr("name"));if(typeof b!=undefined&&b!=""){$(this).val(b)}})}this.$el.find("form").validate();return this}});BaseListView=BaseView.extend({render:function(b){this.collection=b;var a=this.options?this.options:{};if(b){a.objects=b.toJSON()}this.$el.html(this.template(a));return this}});Listing=BaseModel.extend({urlRoot:app.rest_root+"listings/listing",defaults:{photos:[]}});City=BaseModel.extend({urlRoot:app.rest_root+"cities/city"});ListingView=BaseView.extend({id:"listing",className:"listing",template_name:"listing",events:{"click button.back":"back_to_listings","click button.btn-reserve":"reserve","click .actions .email a":"email","click .actions .print a":"print","click .btn-driving-directions":"driving_directions"},back_to_listings:function(){app.listingRouter.navigate(app.listingRouter.root_url+"listings/",true);return false},driving_directions:function(a){window.open("https://maps.google.com/maps?daddr="+this.model.get("map_address"),"","width=800,height=600");return false},render_walk_score:function(){var g="d21c7958221045e89e72d1890736cc6b";var e=this.model.get("latitude");var i=this.model.get("longitude");var d="600";var c="464";var h="horizontal";var b="true";var a="true";var m="true";var k="default";var j="true";var f="true";var l=document.createElement("script");l.type="text/javascript";l.src="http://www.walkscore.com/tile/show-walkscore-tile.php";$("head").append(l)},reserve:function(b){var a=this;if(a.modalView){a.modalView.remove()}a.reserveView=new ReserveView({model:a.model});a.modalView=new Backbone.BootstrapModal({content:a.reserveView,modalClass:"reserve",allowOk:false,okText:"SUBMIT",okCloses:false}).open();return false},email:function(b){var a=this;if(a.modalView){a.modalView.remove()}a.emailListingView=new EmailListingView({model:a.model});a.modalView=new Backbone.BootstrapModal({content:a.emailListingView,modalClass:"email",allowOk:false,okText:"SUBMIT",okCloses:false}).open();return false},print:function(a){window.print();return false}});ListingsView=BaseView.extend({id:"listings",className:"listings",template_name:"listings",ADDRESS_COMPONENT_CITY:"locality",ADDRESS_COMPONENT_STATE:"administrative_area_level_1",LISTING_START:0,LISTING_LIMIT:5,fetch_xhr:undefined,render:function(){BaseView.prototype.render.call(this);if(app.listingRouter.url_data.mode){app.listingRouter.listing_mode=app.listingRouter.url_data.mode}this.listingsSidebarView=new ListingsSidebarView({parent:this});app.listingRouter._renderView(this.listingsSidebarView,this.$el.find(".listings-sidebar"));if(!this.listingListCollection){this.listingListCollection=new ListingListCollection([],{view:this.listingListView})}this.listingsSidebarView.on("filterUpdate",this.renderResults,this);this.renderResults();return this},switchView:function(c){app.listingRouter.listing_mode=c;var a="listings";for(var b in app.listingRouter.url_data){if(app.listingRouter.url_data.hasOwnProperty(b)&&b!="mode"){a+="/"+b+":"+app.listingRouter.url_data[b]}}a+="/mode:"+app.listingRouter.listing_mode+"/";app.listingRouter.navigate(a,{replace:true});if(this.listingListView){this.listingListView.close();this.listingPagerView.close()}if(this.listingMapView){this.listingMapView.close();this.listingMapView=undefined}this.renderResults()},renderResults:function(){if(app.listingRouter.listing_mode===app.listingRouter.LISTING_MODE_LIST){this.renderList()}else{this.renderMap()}},renderList:function(){if(this.listingListView){this.listingListView.close();this.listingPagerView.close()}$(".listings-list").mask("Loading Results...",0,200);var a=this;this.listingListView=new ListingListView({parent:this});if(this.fetch_xhr&&this.fetch_xhr.readyState>0&&this.fetch_xhr.readyState<4){this.fetch_xhr.abort()}this.fetch_xhr=this.listingListCollection.fetch({data:{start:this.LISTING_START,limit:this.LISTING_LIMIT,location:JSON.stringify(app.listingRouter.url_data),bedrooms:app.listingRouter.chosen_bedrooms,amenities:JSON.stringify(app.listingRouter.chosen_amenities)},success:function(d,b,c){app.listingRouter._renderCollectionView(a.listingListView,d,a.$el.find(".listings-list"));a.listingPagerView=new ListingPagerView({collection:d,parent:a});a.listingPagerView.on("pageUpdate",a.renderResults,a);app.listingRouter._renderView(a.listingPagerView,a.$el.find(".listings-pager"));a.decorateTitle(d);a.trigger("listingFetchComplete")}})},renderMap:function(){var a=this;if(!this.listingMapView){this.listingMapView=new ListingMapView({parent:this});app.listingRouter._renderView(this.listingMapView,this.$el.find(".listings-list"),function(){a.listingMapView.renderMap()})}if(this.fetch_xhr&&this.fetch_xhr.readyState>0&&this.fetch_xhr.readyState<4){this.fetch_xhr.abort()}this.fetch_xhr=this.listingListCollection.fetch({data:{start:0,limit:9999,location:JSON.stringify(app.listingRouter.url_data),ignore_location:true,bedrooms:app.listingRouter.chosen_bedrooms,amenities:JSON.stringify(app.listingRouter.chosen_amenities)},success:function(d,b,c){a.trigger("listingFetchComplete")}})},decorateTitle:function(d){var b=this;var c=d.total_count+" Communities found";if(app.listingRouter.location){c+=" in ";var a=app.listingRouter.location.address_components;_.each(a,function(e){if(_.contains(e.types,b.ADDRESS_COMPONENT_CITY)){c+=e.short_name}else{if(_.contains(e.types,b.ADDRESS_COMPONENT_STATE)){c+=", "+e.short_name}}})}this.$el.find("h3.title").text(c)}});ListingPagerView=BaseView.extend({template_name:"listings-pager",ADJACENTS:3,events:{"click li a":"page"},render:function(){var a=(this.options.collection.total_count/this.options.parent.LISTING_LIMIT);var d=Math.ceil(this.options.collection.total_count/this.options.parent.LISTING_LIMIT);var e=this.options.collection.page;var f=1;var c=Math.min(this.ADJACENTS+1,a);if(d>1){if(d>=this.ADJACENTS+(this.ADJACENTS*2)){if(e<(this.ADJACENTS*2)-1){f=1;c=(this.ADJACENTS*2)}else{if(d-(this.ADJACENTS*2)+1>e&&e>=(this.ADJACENTS*2)-1){f=e-this.ADJACENTS;c=e+this.ADJACENTS}else{f=d-(this.ADJACENTS*2);c=d}}}else{f=1;c=d}var b={pager_min:f,pager_max:c,current_page:e};this.$el.html(this.template(b))}return this},page:function(a){var b=$(a.currentTarget).attr("data-page");this.options.parent.LISTING_START=this.options.parent.LISTING_LIMIT*(b-1);this.trigger("pageUpdate");$("html,body").animate({scrollTop:$(".listings-list").offset().top},300);return false}});ListingListCollection=BaseListCollection.extend({model:Listing,total_count:0,url:function(){return app.rest_root+"listings/"},parse:function(a){app.listingRouter.location=a.location;app.listingRouter.amenity_counts=a.amenity_counts;app.listingRouter.range=a.range;app.listingRouter.url_data.range=a.range;this.total_count=a.count;this.page=a.page;return a.listings}});FeaturedListingListCollection=BaseListCollection.extend({model:Listing,url:function(){return app.rest_root+"listings/featured"}});PopularCityListCollection=BaseListCollection.extend({model:City,url:function(){return app.rest_root+"cities/popular"}});ListingListView=BaseListView.extend({id:"listings-list",template_name:"listings-list",listing:undefined,events:{"click button.details":"details","click button.reserve":"reserve"},render:function(a){this.count=a.count;BaseListView.prototype.render.call(this,a);return this},reserve:function(c){var a=$(c.currentTarget).attr("data-uuid");var b=this;if(b.modalView){b.modalView.remove()}b.listing=new Listing({uuid:a});b.listing.fetch({success:function(d){b.reserveView=new ReserveView({model:b.listing});b.modalView=new Backbone.BootstrapModal({content:b.reserveView,modalClass:"reserve",allowOk:false,okText:"SUBMIT",okCloses:false}).open()}});return false},details:function(b){var a=$(b.currentTarget).attr("data-url");app.listingRouter.navigate(app.listingRouter.root_url+"listing/"+a,true);return false}});ListingMapView=BaseView.extend({id:"listings-map",template_name:"listings-map",map:undefined,markers:[],listing:undefined,events:{"click button.details":"details","click button.reserve":"reserve"},initialize:function(a){BaseView.prototype.initialize.call(this,a);a.parent.on("listingFetchComplete",this.updateLocations,this)},renderMap:function(){var a=this.$el.find("#map-canvas");a.height(600);this.infoWindow=new google.maps.InfoWindow({content:"Loading...",maxWidth:500});this.map=new google.maps.Map(a.get(0),{center:new google.maps.LatLng(29.7628,-95.3831),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:4})},updateLocations:function(){var c=this.options.parent.listingListCollection;var b=this;if(app.listingRouter.location){var a=app.listingRouter.location.geometry.location;if(a){this.map.setCenter(new google.maps.LatLng(a.lat,a.lng));console.log(app.listingRouter.url_data);if(!app.listingRouter.url_data.range){this.map.setZoom(6)}else{if(parseInt(app.listingRouter.url_data.range)==100){this.map.setZoom(8)}else{if(parseInt(app.listingRouter.url_data.range)==75){this.map.setZoom(10)}else{if(parseInt(app.listingRouter.url_data.range)==50){this.map.setZoom(11)}else{if(parseInt(app.listingRouter.url_data.range)==25){this.map.setZoom(12)}else{this.map.setZoom(14)}}}}}}}else{if(app.listingRouter.url_data.state){this.map.setZoom(6)}}_.each(this.markers,function(d){d.setMap(null)});c.each(function(e){var d=new google.maps.Marker({position:new google.maps.LatLng(e.get("latitude"),e.get("longitude")),map:b.map,title:e.get("name"),location_id:e.get("uuid")});b.markers.push(d);google.maps.event.addListener(d,"click",function(){b.locationDetails(d)})})},locationDetails:function(a){var b=this;if(!a.content){var c=new Listing({uuid:a.location_id});c.fetch({success:function(d){a.content=_.template(app.template_cache.get("listing-map-popup"),d.toJSON());b.infoWindow.setContent(a.content);b.infoWindow.open(b.map,a);b.listing=c}})}else{b.infoWindow.setContent(a.content);b.infoWindow.open(b.map,a)}},reserve:function(b){var a=this;if(a.modalView){a.modalView.remove()}a.reserveView=new ReserveView({model:a.listing});a.modalView=new Backbone.BootstrapModal({content:a.reserveView,modalClass:"reserve",allowOk:false,okText:"SUBMIT",okCloses:false}).open();return false},details:function(b){var a=$(b.currentTarget).attr("data-uuid");app.listingRouter.navigate(app.listingRouter.root_url+"listing/"+a,true);return false}});ListingsSidebarView=BaseView.extend({id:"listings-sidebar",className:"listings-sidebar",template_name:"listings-sidebar",ADDRESS_COMPONENT_STATE:"administrative_area_level_1",ADDRESS_COMPONENT_CITY:"locality",events:{'change .amenities input[type="checkbox"]':"change_amenities",'change .bedrooms input[type="radio"]':"change_bedrooms","click .see-more":"show_amenities","click a.map-view":"map_view","click a.list-view":"list_view"},initialize:function(a){BaseView.prototype.initialize.call(this,a);a.parent.on("listingFetchComplete",this.update_sidebar_from_results,this)},render:function(){BaseView.prototype.render.call(this);if(app.listingRouter.url_data&&app.listingRouter.url_data.zipcode){this.$el.find("#cityzip").val(app.listingRouter.url_data.zipcode)}if(app.listingRouter.url_data&&app.listingRouter.url_data.city){this.$el.find("#cityzip").val(decodeURIComponent(app.listingRouter.url_data.city))}if(app.listingRouter.url_data&&app.listingRouter.url_data.range){this.$el.find("#range").val(app.listingRouter.url_data.range)}if(app.listingRouter.url_data&&app.listingRouter.url_data.state){this.$el.find("#state").val(app.listingRouter.url_data.state)}if(app.listingRouter.url_data&&app.listingRouter.url_data.mode){this.$el.find("#mode").val(app.listingRouter.url_data.mode)}if(app.listingRouter.listing_mode===app.listingRouter.LISTING_MODE_LIST){this.$el.find("a.list-view").hide();this.$el.find("a.map-view").show()}else{this.$el.find("a.list-view").show();this.$el.find("a.map-view").hide()}return this},update_sidebar_from_results:function(){var b=this;if(app.listingRouter.location){if(!this.$el.find("#state").val()){var a=app.listingRouter.location.address_components;_.each(a,function(c){if(_.contains(c.types,b.ADDRESS_COMPONENT_STATE)){b.$el.find("#state").val(c.short_name)}})}if(!this.$el.find("#cityzip").val()){var a=app.listingRouter.location.address_components;_.each(a,function(c){if(_.contains(c.types,b.ADDRESS_COMPONENT_CITY)){b.$el.find("#cityzip").val(c.short_name)}})}}b.$el.find("#range").val(app.listingRouter.range);if(app.listingRouter.amenity_counts.length>0){_.each(app.listingRouter.amenity_counts,function(c){b.$el.find("label#amenity-"+c.id+" em").text("("+c.cnt+")")})}},change_amenities:function(a){app.listingRouter.chosen_amenities=[];this.$el.find('.amenities input[type="checkbox"]:checked').each(function(b){app.listingRouter.chosen_amenities.push($(this).val())});this.trigger("filterUpdate");return false},change_bedrooms:function(a){app.listingRouter.chosen_bedrooms=this.$el.find('.bedrooms input[type="radio"]:checked').val();this.trigger("filterUpdate");return false},show_amenities:function(a){this.$el.find(".amenities .more").show();$(a.currentTarget).hide();return false},map_view:function(a){$(a.currentTarget).hide();this.$el.find(".list-view").show();this.options.parent.switchView(app.listingRouter.LISTING_MODE_MAP);this.$el.find("#mode").val(app.listingRouter.listing_mode);return false},list_view:function(a){$(a.currentTarget).hide();this.$el.find(".map-view").show();this.options.parent.switchView(app.listingRouter.LISTING_MODE_LIST);this.$el.find("#mode").val(app.listingRouter.listing_mode);return false}});ReserveView=BaseFormView.extend({id:"reserve-wizard",className:"listing",template_name:"reserve-wizard",events:{"click div.step1 .btn-next":"step2","click div.step2 .btn-next":"step3","click div.step2 .btn-back":"step1","click div.step3 .btn-next":"step2","click div.step3 .btn-next":"submit","click div.step3 .btn-back":"step2","click button.btn-edit":"edit_step"},render:function(){BaseFormView.prototype.render.call(this);var a=this;this.$el.find("input.date").mask("00/00/0000");this.$el.find("input.money").mask("000,000,000",{reverse:true});this.$el.find("input.phone").mask("(000) 000-0000");this.$el.find("form").validate();this.$el.find("form").ajaxForm({success:function(c,d,e,b){app.success_message("Your reservation has been received successfully.  We will get back to you shortly.",a.$el.find(".alert-container"))}});return this},showStep:function(b){var a=this.$el.find("form");if(a.valid()){this.$el.find("div.step").hide();this.$el.find("ul.steps li").removeClass("active");this.$el.find("ul.steps li.step"+b).addClass("active");this.$el.find("div.step"+b).show()}},step1:function(a){this.showStep(1);return false},step2:function(a){this.showStep(2);return false},step3:function(b){var a=this.$el.find("form").serializeObject();for(var d in a){if(a.hasOwnProperty(d)){var c=a[d];var e=this.$el.find(".review-section span."+d);if(e.hasClass("boolean")){if(c){c="Yes"}else{c="No"}}e.text(c)}}console.log(a);this.showStep(3);return false},edit_step:function(a){this.showStep($(a.currentTarget).attr("data-target"));return false},submit:function(a){this.$el.find("form").submit();this.showStep(4);return false}});EmailListingView=BaseFormView.extend({id:"email",template_name:"email-listing",render:function(){BaseFormView.prototype.render.call(this);var a=this;this.$el.find("form").validate();this.$el.find("form").ajaxForm({success:function(c,d,e,b){app.success_message("This listing has been successfully emailed to your friends.",a.$el.find(".alert-container"))}});return this}});FrontPageView=Backbone.View.extend({render:function(){this.featuredListings=new FeaturedListingListCollection();this.featuredListings.fetch({success:function(e,b,c){var a={};a.listings=e.toJSON();var d=_.template(app.template_cache.get("listings-featured"),a);$("#featured_listings").html(d);if(e.length<4){$("#featured-pager").hide()}else{$("#featured_listings .cycle-slideshow").cycle({slides:"> div.slide",fx:"carousel",pager:"#featured-pager",timeout:0})}}});this.popularCities=new PopularCityListCollection();this.popularCities.fetch({success:function(e,b,c){var a={};a.cities=e.toJSON();var d=_.template(app.template_cache.get("cities-popular"),a);$("#popular_destinations").html(d);if(e.length<4){$("#popular-pager").hide()}else{$("#popular_destinations .cycle-slideshow").cycle({slides:"> div.slide",fx:"carousel",pager:"#popular-pager",timeout:0})}}});return this}});